if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(ck,L,bH){var E=function(){var e=ck.maCookiePrefix;return typeof e==="string"?e:"roistat"};var X=E();var bB=function(){return ck[X+"Host"]};var bs=false,Y="269",B=13,cT=42,x=bB(),aI="0.2",ak="1.0",c0="roistat_visit_cookie_expire",cb="roistat_visit",aO="roistat_cookies_to_resave",b3="roistat_guid",aT="roistat_next_guid",aZ="roistat_first_visit",ap="roistat_is_need_listen_requests",be="roistat_is_save_data_in_cookie",dw="roistat_phone",aH="roistat_referrer",c3="roistat_marker",bf="roistat_marker_old",bz="roistat_ab",cH="rs",M="roistat",ae="leadhunter_expire",S=5*60*60,bI="roistat_leadHunterEnabled",s="roistat_leadHunterTargetPagesMap",cz="roistat_leadHunterCallbackSettings",aX="roistat_leadHunterScriptId",Z="roistat_isleadHunterScriptIdActive",bc="roistat_multiwidgetEnabled",b2="roistat_multiwidgetVKEnabled",cQ="roistat_multiwidgetVKLink",T="roistat_multiwidgetFBEnabled",c9="roistat_multiwidgetFBLink",cC="roistat_multiwidgetTelegramEnabled",bq="roistat_multiwidgetTelegramLink",cN="roistat_multiwidgetWhatsAppEnabled",bG="roistat_multiwidgetWhatsAppLink",dD="roistat_multiwidgetViberEnabled",cF="roistat_multiwidgetViberLink",cO="roistat_onlineChatEnabled",C="roistat_onlineChatSettings",d=7*24*60*60,cV={expires:d,path:"/"},al="roistat-promo",at="roistat-phone",J="roistat-phone-country",am="roistat-phone-region",N="roistat-phone-number",dm="roistat-phone-tel",bO="country",aQ="region",bj="number",b6="tel",o="roistat_call_tracking",aa="roistat-js-script",bx="roistat_phone_replacement",bk="roistat_phone_script_data",cS="roistat-visit-id",a0="roistat_metrika_counter_id",k="roistat_marker_from_referrer",bw="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bL="roistat_emailtracking_emails",m="roistat_geo_data",aS="roistat_promo_code",dp="roistat_proxy_forms",cX="roistat_isMultiDomain",cJ=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cc="roistat_debug",a3="roistat_settings_saved",cq="nocookie",a1=["yandex.ru"],aF="beta_test",cD="roistat_settings_version",b0="roistat-leadhunter-form-template",bv="roistat-leadhunter-pulsator-template",bZ="roistat-leadhunter-pulsator-settings",br="roistat-online-chat-pulsator-template",D="roistat-online-chat-iframe-template",c4="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",ac="roistat_last_settings_update_time",cx="roistat_authorized_client",aC="roistat_params",db=50,aP="mobile",q="tablet",bV="desktop",bS=500,di=1024;
var bW="ru",dt="en",ah,t;var b1={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var cd={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var cU={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(ck.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}ck.roistatAlreadyStarted=true;if(ck.roistatCookieDomain){cV.domain=ck.roistatCookieDomain}var co=function(){return new Date().getTime()};var A=function(dE){var dF=co()-bo;var e="["+(dF/1000)+"s] "+dE;bh=bh+"; "+e;if(typeof console!=="undefined"&&console.log&&bs){console.log(e)}};var v=function(e){var dF=e.split(".");var dE=dF.length;if(dE<2){return e}return dF[dE-2]+"."+dF[dE-1]};var c5="cllctr."+v(x);ck.roistat={version:Y,getSource:function(){return cd.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){cd.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cA(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bt(e)},disableCallTracking:function(){b1.callTrackingEnabled=false},setCallTrackingManualMode:function(){b1.callTrackingManual=true},setJSONPRequestTimeout:function(e){b1.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){A("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null,},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true,},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(e){aD(e,bH)},authClientByEmail:function(e){aD(bH,e)},setRoistatParams:function(dL,dK,dI,dH,dG){var dN=dL!==null&&dB(dL)?dL:{roistat_param1:dL,roistat_param2:dK,roistat_param3:dI,roistat_param4:dH,roistat_param5:dG};var dE=R()+"/update-visit-by-params";if(!cd.isVisitProcessed){bD(dE,"RoistatParam was not updated because visit is not processed, roistatParams:"+encodeURIComponent(JSON.stringify(dN)));A("Visit is not processed, return");return}var dJ=p();if(dJ<=0){bD(dE,"RoistatParam was not updated because visitId <= 0, roistatParams:"+encodeURIComponent(JSON.stringify(dN)));A("Invalid arguments, return");return}bD(dE,"Start process for visit "+dJ+", roistatParams: "+encodeURIComponent(JSON.stringify(dN)));var dO=false;var dP={};for(i=1;i<=db;i++){var dS="roistat_param"+i;if(!Object.prototype.hasOwnProperty.call(dN,dS)){continue}var dR=dN[dS];if(dR!==bH&&dR.toString().length>0){dP[dS]=dR;dO=true}}if(!dO){bD(dE,"Visit "+dJ+" was not updated because none of RoistatParams are valid, roistatParams:"+encodeURIComponent(JSON.stringify(dN)));A("Has no valid roistat params for visit update, return");return}var dQ=aC;var dM=ch.get(dQ);var e=JSON.stringify(dP);var dT=dM===e;if(dT){A("Params already updated, return");return}ch.set(dQ,e);ck.roistat.page.params=dP;dE+="?visit="+dJ+"&v="+Y;for(var dF in dP){if(!Object.prototype.hasOwnProperty.call(dP,dF)){continue}dE+="&"+dF+"="+encodeURIComponent(dP[dF])}aY(dE)},};var aD=function(e,dG){if(!cd.isVisitProcessed){A("Visit is not processed, return");return}var dH=e!==bH&&e.length>0,dK=dG!==bH&&dG.length>0;if(!dH&&!dK){A("Invalid client params, return");return}var dI=p();if(dI<=0){A("Invalid arguments, return");return}var dJ=cx,dL=ch.get(dJ),dF=dH?e:dG;if(dL===dF){A('Client "'+dF+'" is already authorized, return');return}A("Auth client: "+dF);ch.set(dJ,dF);var dE=R()+"/update-visit-by-client?visit="+dI+"&v="+Y;if(dH){dE+="&client_id="+encodeURIComponent(e)}if(dK){dE+="&client_email="+encodeURIComponent(dG)}aY(dE)};var dd=function(dG,dE){var dF=dG.length;for(var e=0;e<dF;e++){if(dE===dG[e]){return true}}return false};var af=function(){return j(aF)>0};var z=function(){return ck.location.protocol+"//"+ck.location.host+ck.location.pathname};var G=function(){if(dy()){return aP}if(dk()){return q}return bV};var dy=function(){return ck.innerWidth<=bS};var dk=function(){return ck.innerWidth>bS&&ck.innerWidth<=di};var a6=function(){return ck[X+"ProjectId"]
};var cE=function(){var e=a6().replace(/\D/g,"");A("getProjectHash: "+e);return e};var bm=function(e){var dE=cE();return dd(e,dE)};var cM=function(e){return JSON.parse(JSON.stringify(e))};var bA=function(){var dE=cM(cV),e=parseInt(ch.get(c0));dE.expires=e>0?e:d;return dE};var cA=function(e){if(!cd.isVisitProcessed){cU.onVisitProcessed.push(e)}else{e()}};var cP=function(){cd.isVisitProcessed=true;A("[Roistat] visit id set. Processing callbacks");var dE=cU.onVisitProcessed.length;for(var e=0;e<dE;e++){cU.onVisitProcessed[e]()}if(ck.roistatVisitCallback!==bH){ck.roistatVisitCallback(ck.roistat.getVisit())}};var bt=function(e){cU.onCallTrackingPhoneReceived.push(e)};var da=function(){var dE=cU.onCallTrackingPhoneReceived.length;for(var e=0;e<dE;e++){cU.onCallTrackingPhoneReceived[e]()}};var ay=function ay(e){cU.onSPAPageChanged.push(e)};var b9=function b9(){A("[Roistat] SPA page changed. Processing callbacks");var dE=cU.onSPAPageChanged.length;for(var e=0;e<dE;e++){cU.onSPAPageChanged[e]()}};var an=function(dH,dG){var dF=dH.className.split(" "),dE=false,e;for(e=0;e<dF.length;e++){if(dF[e]===dG){dE=true;break}}if(!dE){dF.push(dG);dH.className=dF.join(" ")}};var ca=function(dG,dF){var dE=dG.className.split(" "),e;for(e=0;e<dE.length;e++){if(dE[e]===dF){dE.splice(e,1);dG.className=dE.join(" ");break}}};var aE=function(dF){try{return decodeURIComponent(dF)}catch(dG){var dE;dE=y(dF);if(dE===null){return dF}return dE}};var bU={visitor_uid:function(){A("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dB(ck.AMOPIXEL_IDENTIFIER)||!W(ck.AMOPIXEL_IDENTIFIER.getVisitorUid)){A("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!a2(e)){A("AmoCrmUID: visitor_uid value must be a string");return null}return e}};var aB=function(){for(var dE in bU){var e=bU[dE]();if(e===null){continue}dn(dE,e,cV)}};var bg=function(){return["_ym_uid","_ga"].concat(O(bU))};var y=function(dI){var dH={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dF="";var dG=0;while(dG<dI.length){var dE=dI.substring(dG,dG+3);if(Object.prototype.hasOwnProperty.call(dH,dE)){dF+=dH[dE];dG+=3}else{dF+=dI.substring(dG,dG+1);dG++}}try{return decodeURIComponent(dF)}catch(dJ){return null}};ck.roistatVersion=Y;var by,cu=bm(["9418029803765486301","053353545780959565"]),aj=bm(["860340978620700251","93600421474928811290145"]),K=bm(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679"]),l,cs=true,cy=decodeURIComponent(L.location.href),bh="",aW="",bo=new Date().getTime(),c2=false,cI=ck.roistatPhonePrefix?ck.roistatPhonePrefix:"",dx=ck.roistatPhonePrefixBind?ck.roistatPhonePrefixBind:"",U=ck.roistatCalltrackingScripts&&ck.roistatCalltrackingScripts.join?ck.roistatCalltrackingScripts.join(","):"";var cg=function(e){if(!K){return e}var dE=e.replace(/^roistat[_-]/,"");return X+"_"+dE};var j,dn,dC;j=ck.roistatGetCookie=function(e){var dE=cg(e);var dF=L.cookie.match(new RegExp("(?:^|; )"+dE.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dF?aE(dF[1]):bH};dC=function(e,dK,dL){var dI=cg(e);dL=dL||{};var dG=dL.expires;if(typeof dG=="number"&&dG){var dJ=new Date();dJ.setTime(dJ.getTime()+dG*1000);dG=dL.expires=dJ}if(dG&&dG.toUTCString){dL.expires=dG.toUTCString()}dK=encodeURIComponent(dK);var dE=dI+"="+dK;for(var dH in dL){dE+="; "+dH;var dF=dL[dH];if(dF!==true){dE+="="+dF}}L.cookie=dE};dn=ck.roistatSetCookie=function dn(dE,dI,e){dC(dE,dI,e);var dG=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")===-1&&navigator.userAgent.indexOf("FxiOS")===-1;if(!dG){return}var dH;dH=j(aO);dH=a2(dH)?dH.split(","):[];for(var dF in dH){if(dH[dF]===dE){return}}dH.push(dE);dC(aO,dH.join(","),{path:"/"})};var bF=function(dE,dG,dF){var e=dE[dG];dE[dG]=function(){if(e){e.apply(this,arguments)}dF.apply(this,arguments)}};var ai=function(dF,dE,dG){if(dF.addEventListener){dF.addEventListener(dE,dG,false);return}var e="on"+dE;if(dF.attachEvent){dF.attachEvent(e,dG);
return}if(e in dF){bF(dF,e,dG);return}if(dE in dF){bF(dF,dE,dG);return}A("Handler could not be attached")};var r=function(dG,dF){var dE=dG.length;for(var e=0;e<dE;e++){dF(dG[e])}};var O=function(e){var dE=[];bn(e,function(dF,dG){dE.push(dF)});return dE};var bn=function(e,dF){for(var dE in e){if(Object.prototype.hasOwnProperty.call(e,dE)){dF(dE,e[dE])}}};var bu=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aR=function(dE){if(typeof dE!=="object"){return false}for(var e in dE){if(dE.hasOwnProperty(e)){return true}}return false};var df=function(dF){try{var dE=JSON.parse(dF);if(dE&&typeof dE==="object"){return dE}}catch(dG){}return null};if(L.getElementsByClassName==bH){L.getElementsByClassName=function(dE){var e=[];var dI=new RegExp("\\b"+dE+"\\b");var dH=this.getElementsByTagName("*");for(var dG=0;dG<dH.length;dG++){var dF=dH[dG].className;if(dI.test(dF)){e.push(dH[dG])}}return e}}var aG=function(){return String.fromCharCode};var cR=function(dF){var e="";for(var dE=0;dE<dF.length;++dE){e+=aG()(cT^dF.charCodeAt(dE))}return e};var aN=function(e){return encodeURIComponent(cR(cn.encode(e)))};var cn={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dF){var e="";var dM,dK,dI,dL,dJ,dH,dG;var dE=0;dF=cn._utf8_encode(dF);while(dE<dF.length){dM=dF.charCodeAt(dE++);dK=dF.charCodeAt(dE++);dI=dF.charCodeAt(dE++);dL=dM>>2;dJ=((dM&3)<<4)|(dK>>4);dH=((dK&15)<<2)|(dI>>6);dG=dI&63;if(isNaN(dK)){dH=dG=64}else{if(isNaN(dI)){dG=64}}e=e+this._keyStr.charAt(dL)+this._keyStr.charAt(dJ)+this._keyStr.charAt(dH)+this._keyStr.charAt(dG)}return e},decode:function(dF){var e="";var dM,dK,dI;var dL,dJ,dH,dG;var dE=0;dF=dF.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dE<dF.length){dL=this._keyStr.indexOf(dF.charAt(dE++));dJ=this._keyStr.indexOf(dF.charAt(dE++));dH=this._keyStr.indexOf(dF.charAt(dE++));dG=this._keyStr.indexOf(dF.charAt(dE++));dM=(dL<<2)|(dJ>>4);dK=((dJ&15)<<4)|(dH>>2);dI=((dH&3)<<6)|dG;e=e+String.fromCharCode(dM);if(dH!=64){e=e+String.fromCharCode(dK)}if(dG!=64){e=e+String.fromCharCode(dI)}}e=cn._utf8_decode(e);return e},_utf8_encode:function(dE){dE=dE.replace(/\r\n/g,"\n");var e="";for(var dG=0;dG<dE.length;dG++){var dF=dE.charCodeAt(dG);if(dF<128){e+=String.fromCharCode(dF)}else{if((dF>127)&&(dF<2048)){e+=String.fromCharCode((dF>>6)|192);e+=String.fromCharCode((dF&63)|128)}else{e+=String.fromCharCode((dF>>12)|224);e+=String.fromCharCode(((dF>>6)&63)|128);e+=String.fromCharCode((dF&63)|128)}}}return e},_utf8_decode:function(e){var dF="";var dH=0;var dI=0;var dG=0;var dE=0;while(dH<e.length){dI=e.charCodeAt(dH);if(dI<128){dF+=String.fromCharCode(dI);dH++}else{if((dI>191)&&(dI<224)){dG=e.charCodeAt(dH+1);dF+=String.fromCharCode(((dI&31)<<6)|(dG&63));dH+=2}else{dG=e.charCodeAt(dH+1);dE=e.charCodeAt(dH+2);dF+=String.fromCharCode(((dI&15)<<12)|((dG&63)<<6)|(dE&63));dH+=3}}}return dF}};var bC=function(){return L[aG()(99,111,111,107,105,101)]};var au=function(){ds();var e={c:c8()};return aN(JSON.stringify(e))};var cB=function(){var e=p();return(e===bH||e===null)?cq:e};var c8=function(){var e=[];for(var dE in cd.cookies){if(!Object.prototype.hasOwnProperty.call(cd.cookies,dE)){continue}e.push(dE+"="+cd.cookies[dE])}return e.join("; ")};var ds=function(){var e=n();for(var dE in e){if(!Object.prototype.hasOwnProperty.call(e,dE)){continue}cd.cookies[dE]=e[dE]}};var ar=function(e){dn(c3,e,bA());cd.source.marker=e};var ao=function(){return j(c3)};var g=function(){bn(ck.roistat.page.params,function(dE,e){cd.pageParams[dE]=e})};var n=function(){var dG=bC();var dH=dG.split("; ");var e={};for(var dF=0;dF<dH.length;dF++){var dK=dH[dF];if(dK===""){continue}var dE=dK.split("=");if(dE.length<2){continue}var dJ=dE[0].trim();var dI=dE[1].trim();e[dJ]=dI}return e};var h=function(){return aG()(104,97,115,104)};var aM=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var b8={isAvailable:function(){var dE=false;if(!ck.sessionStorage||!ck.sessionStorage.setItem||!ck.sessionStorage.getItem||!ck.sessionStorage.removeItem){return dE}try{ck.sessionStorage.setItem("testKey","testValue");dE=ck.sessionStorage.getItem("testKey")==="testValue";ck.sessionStorage.removeItem("testKey")}catch(dF){return false}return dE},remove:function(e){if(this.isAvailable()){ck.sessionStorage.removeItem(cg(e))}},setObject:function(e,dE){if(this.isAvailable()){ck.sessionStorage.setItem(cg(e),JSON.stringify(dE))}},getObject:function(dE){var e=null;if(this.isAvailable()){e=ck.sessionStorage.getItem(cg(dE));e=JSON.parse(e)}return e},set:function(e,dE){if(this.isAvailable()){ck.sessionStorage.setItem(cg(e),dE)}},get:function(dE){var e=null;if(this.isAvailable()){e=ck.sessionStorage.getItem(cg(dE))}return e}};var ch={isAvailable:function(){var dE=false;if(!ck.localStorage||!ck.localStorage.setItem||!ck.localStorage.getItem||!ck.localStorage.removeItem){return dE}try{ck.localStorage.setItem("testKey","testValue");dE=ck.localStorage.getItem("testKey")==="testValue";
ck.localStorage.removeItem("testKey")}catch(dF){return false}return dE},remove:function(dE){if(this.isAvailable()){ck.localStorage.removeItem(cg(dE))}else{var e=new Date(1970,1,1);dn(dE,"",{expires:e.toUTCString()})}},setObject:function(e,dE){if(this.isAvailable()){localStorage.setItem(cg(e),JSON.stringify(dE))}},getObject:function(dE){var e=null;if(this.isAvailable()){e=localStorage.getItem(cg(dE));e=df(e)}return e},set:function(e,dE){if(this.isAvailable()){localStorage.setItem(cg(e),dE)}else{if(this.isSaveInCookieEnabled()){dn(e,dE,cV)}}},save:function(dE,dF,e){if(this.isAvailable()){localStorage.setItem(cg(dE),dF)}dn(dE,dF,e)},get:function(dE){var e=null;if(this.isAvailable()){e=localStorage.getItem(cg(dE))}if(e===null){e=j(dE)}return e},isSaveInCookieEnabled:function(){return this.get(be)>0}};var b5=function(){return !b4(L.referrer)?L.referrer:null};var W=function(e){return typeof e==="function"};var dB=function(e){return typeof e==="object"};var a2=function(e){return typeof e==="string"};var ab=function(dG,dF){dF=typeof dF!=="undefined"?dF:false;var dH=function(dK){var dJ=null;var dL=new RegExp("[#&?]("+dG+"=[^#&?]+)");if(dL.test(dK)){dJ=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var dI=aE(dJ);return dJ&&dI?dI:dJ};var e=dH(cy);if(dF){var dE=L.referrer;if(e===null&&dE){e=dH(dE)}}return e};var c7=function(dE,dF){var e=false;if(dE&&dF){e=dE.split(dF).join("")!==dE}return e};if(ab(cc)==="1"||n()[cc]==="1"){bs=true}var cL=function(){var e="multiwidget_only";return ab(e)==="1"||n()[e]==="1"};var aK=function(){return cL()?ck.roistatMultiWidgetOnly:ck.roistatOnlineChatOnly};var dr=function(){var dE=a6()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||a6()==="4";var e=(ck.location.host==="cloud.roistat.com"||ck.location.host==="cloud-eu.roistat.com")&&ck.location.pathname!=="/user/login"&&ck.location.pathname!=="/user/register";var dG=a6()==="349ac99f64416756d4a18e91c71dc95f";var dF=ck.location.host==="datyson.ru"&&ck.location.pathname==="/cloud.html";if((dE&&!e)||(dG&&!dF)){A("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bb=function(){if("https:"===L.location.protocol){return"https:"}else{return"http:"}};var V=function(dE){var e=L.createElement("img");e.src=dE;A("sendRequestByUrl: "+dE)};var aY=function(dE){A("sendApiRequestJSONP: init with url "+dE);var e=L.createElement("script");e.onload=e.onreadystatechange=function(){var dG=this.readyState?this.readyState:"unknown";A("sendApiRequestJSONP: script state changed to "+dG)};e.src=dE;e.type="text/javascript";e.async=true;var dF=L.getElementsByTagName("script")[0];dF.parentNode.insertBefore(e,dF);A("sendApiRequestJSONP: script appended")};var bY=function(){if(cd.isCssLoaded){return}(function(){var dE=L.createElement("link"),e=L.getElementsByTagName("head");dE.setAttribute("rel","stylesheet");dE.setAttribute("href",bb()+"//"+x+"/dist/module.css?"+Y);if(e.length>0){cd.isCssLoaded=true;e[0].appendChild(dE)}})()};var cm=function(){return cr()||dz()};var cr=function(){return bi()!==null};var dz=function(){return cj()!==null};var c1=function(){var e=cY();if(e!==null){dn(cb,e,bA())}};var cY=function(){return bi()||cj()||null};var bi=function(){return ab("roistat_visit")};var cj=function(){return cd.visitFromUser};var a=function(dE,e){if(!e&&(cd.isSettingsUpdating||!L.hasFocus())){A("Already updating settings or document not in focus, return");return}var dF=R()+"/get-settings?v="+Y+"&visit="+dE;A("Request new settings");cd.isSettingsUpdating=true;aY(dF)};var aU=function(){return ch.get(a3)>0};var dh=function(){ch.set(a3,1)};var aA=function(){ch.remove(b0);ch.remove(bv);ch.remove(bZ);ch.remove(br);ch.remove(D);ch.remove(cO);ch.remove(c4);ch.remove(f)};var ce=function(){var dH=function(){return ch.get(cD)};var dG=function(){ch.set(cD,B)};var dE=function(){return typeof dH()==="string"};var e=function(){var dI=Number(dH())>B;A("Settings Version: settings version change status - "+dI);return dI};var dF=function(){var dI=1000*60*60*24;var dL=dc();var dK=co()-dL;var dJ=dK>dI;A("Settings Version:: expiration day check: lastUpdateTime="+dL+", _lastUpdateTimeDiff="+dK+", _oneDayDiffInMs="+dI+", result="+(dJ?1:0));return dJ};if(!dE()){A("Settings Version: set settings version up to 1");dG()}if(dF()||e()){A("Settings Version: clear settings");aA()}};var du=function(){A("Call: Init");A("Counter version: "+Y);if(ab("roistat_ab_demo")==="1"){A("Roistat initialisation rejected: ab test preview mode");return}bl();cK();if((!aq()||dA())&&!aK()){c2=true;bJ()}else{ce();c1();var e=p();H("Init visit with new visit_id, visit_id: "+e+" and referrer: "+l);bP();a9();cZ();roistat.visit=e;cd.source.marker=ao();ck.roistat.geo=ch.getObject(m);var dE=aU();if(!dE){a(e)}else{cP()}}cA(dg)};var dg=function(){var dJ=["96410253627861353","0663743092710733685117","6877276246017445345","65780787090363855409","954273091733054008","860340978620700251","4"];var dF=dd(dJ,cE());A("ExternalCounter availableProjects = ["+dJ.join(",")+"], result = "+dF);
if(!dF){A("ExternalCounter is not available, return");return}A("InitExternalCounter");var dE=a6();var e=I();var dI=e?e:p();var dH=dE+":"+dI;var dG=function(dL){var dK=(L.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+dE+"&event_type=view&user_id="+dL;var dM=new XMLHttpRequest;dM.open("GET",dK,true);dM.withCredentials=true;dM.onload=function(){if(dM.readyState===4){if(dM.status!==204){console.error(dM.statusText)}}};dM.onerror=function(){console.error(dM.statusText)};dM.send(null)};dG(dH);A("InitExternalCounter: script appended")};var P=function(dF){if(!dF.isEnabled){return true}var e=new Date();var dM=new Date().toISOString();var dJ=e.getUTCDay()===0?7:e.getDay();var dK=dJ===6||dJ===7;var dI=new Date(dF.weekdaysTime.from).toISOString();var dE=new Date(dF.weekdaysTime.to).toISOString();var dN=new Date(dF.weekendsTime.from).toISOString();var dG=new Date(dF.weekendsTime.to).toISOString();var dL=false;for(var dH=0;dH<dF.days.length;dH++){if(dJ===dF.days[dH]){dL=true}}if(!dL){return false}if(dK){return dM>=dN&&dM<=dG}return dM>=dI&&dM<=dE};var bl=function(){A("Call: initMarker");by=cp();A("Call: inited marker: "+by)};var cK=function(){A("Call: initReferrer");l=b5();A("Call: end initReferrer: "+l)};var b4=function(dF){if(!dF){return true}var e=ba(dF);var dE=ba(L.domain);if(e===dE){return true}var dG=bX();if(dG===null){return false}if(c7(e,dG)&&c7(dE,dG)){return true}return false};var bX=function(){if(typeof cV.domain==="string"&&cV.domain!==""){return ba(cV.domain)}return null};var ba=function(e){var dE=e.split("http://").join("").split("https://").join("").split("www.").join("");return dE.split("/")[0]};var cp=function(){var dI=j(k)>0;var dK=null;var dF=function(dN){return dN.split("_").join(":u:")};var dM=function(dO){var dN=false;r(a1,function(dP){if(dO.indexOf(dP)>-1){dN=true}});return dN};var dL=function(){var dN=false;var dO;dO=ab(M,dI);if(dO!==null){dK=dO;dN=true}dO=ab(cH,dI);if(dO!==null){dK=dO;dN=true}return dN};var dG=function(){var dN=false;var dO=ao();if(dO){dK=dO;dN=true;cs=false}return dN};var dE=function(){var dN=false;var dP=ab("utm_source",dI);if(dP!==null){dN=true;dK=":utm:"+dF(dP);var dR=["utm_medium","utm_campaign","utm_content","utm_term"];var dO;for(var dQ=0;dQ<dR.length;dQ++){dO=ab(dR[dQ],dI);if(dO!==null){dK=dK+"_"+dF(dO)}}}return dN};var dH=function(){var dP,dO,dN=false;dO=ab("_openstat",dI);if(!dO){return false}if(dJ(dO)){dP=dO}else{dP=encodeURI(cn.decode(dO));if(!dJ(dP)){dP=dO}}if(dP){dP=dF(dP).split(";").join("_");dK=":openstat:"+dP;dN=true}return dN};var dJ=function(dN){return dN.match(/^([^;]*(;[^;]*){3})$/)!==null};var e=function(){var dN=false;var dO=L.referrer;if(b4(dO)){return dN}var dP=ab("from",dI);if(dP!==null&&!c7(dP,"http")){if(!dM(dP)){dN=true;dK=dF(dP)}}return dN};if(dL()){A("Init marker: init from RS param "+dK);return dK}if(dE()){A("Init marker: init from UTM "+dK);return dK}if(dH()){A("Init marker: init from OpenStat "+dK);return dK}if(e()){A("Init marker: init from custom tag "+dK);return dK}A("Init marker: try init from cookie "+dK);dG();return dK};var p=function(){return ch.get(cb)};var I=function(){return ch.get(aZ)};var ad=function(){A("Call: saveReferrer");ch.set(aH,l)};var b7=function(){A("Call: removeReferrer");ch.remove(aH)};var de=function(){dn(bf,aE(by),bA())};var cZ=function(){A("Call: refreshPromoCode");if(aK()){A("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return j(cb)};ax(e());if(!ck.onload){ck.onload=function(){ax(e())}}setTimeout(function(){ax(e())},50);setTimeout(function(){ax(e())},200);setTimeout(function(){ax(e())},2000);setTimeout(function(){ax(e())},10000)};ck.roistatPromoCodeRefresh=cZ;var dj=function(){var e=[];var dE=L.getElementsByClassName(al);if(dE&&dE.length){e=dE}return e};var ax=function(e){var dG=dj();A("setPromoCode: "+e+" in "+dG.length+" elements");for(var dF=0;dF<dG.length;dF++){var dE=dG[dF];dE.innerHTML=e?e:""}};var bM=function(){var dF=cp(),dE=j(bf),dH=dF!==null,dG=true;var dJ=aE(aE(dF)).toLowerCase().split("+").join(" "),dI=aE(aE(dE)).toLowerCase().split("+").join(" ");if(dF&&dE){dG=dJ!==dI}var e=dH&&dG;aW="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dF+":"+dJ+" and old "+dE+":"+dI;A(aW);return e};var aL=function(){var dE=function(dM){return/[\u0400-\u04FF]/.test(dM)};var dL=false,dI=l,e=ch.get(aH),dK=ck.location.host;if(!dI||!dK){A("Call: needOverrideByReferrer (result "+(dL?"true":"false")+"), skip because one of params is empty");return dL}dK=ba(dK);dI=aE(dI);e=aE(e);var dG=ba(dI);if(c7(dI,"xn--")&&dE(dK)){A("Call: needOverrideByReferrer (result "+(dL?"true":"false")+"), skip because of bugs with punycode in FF");return dL}if(!dG){A("Call: needOverrideByReferrer (result "+(dL?"true":"false")+"), skip because current referrer is null");return dL}if(!e){dL=!c7(dG,dK);A("Call: needOverrideByReferrer (result "+(dL?"true":"false")+"), compare current referrer and host");return dL}if(c7(dI,e)){A("Call: needOverrideByReferrer (result "+(dL?"true":"false")+"), skip because the same referrer");
return dL}var dJ=dK.split(".").length>2&&dG.split(".").length>2;var dH=ck.roistatCookieDomain!==bH&&ck.roistatCookieDomain!==dK;var dF=dG.split(".").slice(1).join(".")===dK.split(".").slice(1).join(".");if(dJ&&dH&&dF){A("Call: needOverrideByReferrer (result "+(dL?"true":"false")+"), skip because sub domains of same domain");return dL}dL=!(c7(dG,dK)||(c7(dK,dG)));A("Call: needOverrideByReferrer (result "+(dL?"true":"false")+") referrerHost: "+dG+", currentHost: "+dK);return dL};var bQ=function(){return ab("utm_nooverride")==="1"};var dA=function(){return !cm()&&!bQ()&&(bM()||aL())};var bR=function(dE,e){return(dE&&e&&dE!=e)};var bd=function(dF){var e=["cookieExpire"];var dH=dF.leadHunterEnabled;if(Number(ch.get(bI))!==Number(dF.leadHunterEnabled)){ch.set(bI,Number(dF.leadHunterEnabled))}if(dH){var dG={expires:S,path:"/"};if(cV.domain){dG.domain=cV.domain}dn(ae,1,dG)}for(var dE in dF){if(!Object.prototype.hasOwnProperty.call(dF,dE)){continue}if(!dH&&dE.indexOf("leadHunter")>=0&&dE.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aw(e,dE)){ch.set("roistat_"+dE,dF[dE])}}};var cW=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(ch.get(bc))!==Number(e.is_enabled)){ch.set(bc,Number(e.is_enabled))}if(Number(ch.get(b2))!==Number(e.vk.is_enabled)){ch.set(b2,Number(e.vk.is_enabled))}if(ch.get(cQ)!==roistat.multiwidget.vk.link){ch.set(cQ,roistat.multiwidget.vk.link)}if(Number(ch.get(T))!==Number(e.fb.is_enabled)){ch.set(T,Number(e.fb.is_enabled))}if(ch.get(c9)!==roistat.multiwidget.fb.link){ch.set(c9,roistat.multiwidget.fb.link)}if(Number(ch.get(cC))!==e.telegram.is_enabled){ch.set(cC,Number(e.telegram.is_enabled))}if(ch.get(bq)!==roistat.multiwidget.telegram.link){ch.set(bq,roistat.multiwidget.telegram.link)}if(Number(ch.get(cN))!==e.whats_app.is_enabled){ch.set(cN,Number(e.whats_app.is_enabled))}if(ch.get(bG)!==roistat.multiwidget.whatsApp.link){ch.set(bG,roistat.multiwidget.whatsApp.link)}if(Number(ch.get(dD))!==e.viber.is_enabled){ch.set(dD,Number(e.viber.is_enabled))}if(ch.get(cF)!==roistat.multiwidget.viber.link){ch.set(cF,roistat.multiwidget.viber.link)}};var cl=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(ch.get(cO))!==Number(e.is_enabled)){ch.set(cO,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;ch.setObject(C,e.advanced_settings)};var w=function(e){ck.roistat.geo=e;ch.setObject(m,e)};var cw=function(e){A("PromoCode: save settings");ch.setObject(aS,e)};var dv=function(dH,dJ,dG,dE,dI,e,dK,dF){bd(dH);roistat.callTracking.enabled=dJ.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dG.email;roistat.emailtracking.trackingEmail=dG.trackingEmail;roistat.emailtracking.emails=dG.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=dI;cW(e);cl(dK);w(dE);cw(dF)};ck.roistatModuleSetVisitCookie=function(dI,dQ,dG,dE,dP,dL,e,dS,dK,dR){A("Call: roistatModuleSetVisitCookie("+dI+")");var dM;if(typeof dG.cookieExpire!=="number"){dM=bA().expires}else{dM=dG.cookieExpire}var dJ=j(cb);var dO={expires:dM,path:"/"};if(cV.domain){dO.domain=cV.domain}dn(cb,dI,dO);if(!(j(cb)>0)){ch.save(cb,dI,dO)}if(!ch.get(aZ)){var dF={expires:10*365*24*60*60,path:"/"};if(cV.domain){dF.domain=cV.domain}ch.save(aZ,dI,dF)}var dN=dG.abTests;if((typeof dN!=="undefined")&&ch.isAvailable()){ch.setObject("abTesting",dN)}applyTests();var dH=dG.isNeedToListenRequests;if((typeof dH!=="undefined")&&ch.isAvailable()){ch.set(ap,dH)}ax(dI);if(dQ){ar(dQ);dn(bf,dQ,dO)}if(ck.roistatCallback!==bH){ck.roistatCallback(dI,dQ)}if(!dS){dS={}}dv(dG,dE,dP,dL,e,dS.multiwidget_settings,dK,dR);roistat.callTracking.phone=dE.phone;roistat.callTracking.sessionTime=dE.sessionTime;roistat.callTracking.replacementClasses=dE.replacementClasses;roistat.callTracking.phoneScriptsJson=dE.scripts;roistat.visit=dI;A("Call: pre renderPromoCode");a9();cZ();if(bR(dJ,dI)){A("roistatModuleSetVisitCookie: visit changed from "+dJ+" to "+dI)}da();dh();cP()};ck.roistatUpdateSettings=function(e){A("Set settings.");cd.isSettingsUpdating=false;dv(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);dh();cP()};var aq=function(){var e;if(ck.roistatIsInitVisit===true){e=false}else{e=j(cb)>0}A("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)
};var a5=function(){return l?c(l):""};var R=function(){return bb()+"//"+x+"/api/site/"+ak+"/"+a6()};var ct=function(){var e={expires:1,path:"/"};if(cV.domain){e.domain=cV.domain}dn(bz,"",e)};var bJ=function(){A("Call: setVisitIdCookie");var dE=function(){var dO=a6(),dL=a5(),dH=ck.roistatIsInitVisit===true?p():0,dN=j(bz),dJ=j(b3),dI=ch.get(aZ);dN=dN?dN:"";dI=dI?dI:"";by=by&&(!aL()||cs)?aE(aE(by)):"";H("Init visit with visit id from cookie, visit_id: "+dH+" and referrer: "+dL+" calculateApiUrl marker: "+by);var dM=encodeURIComponent(cy);A("Calltracking: enabled="+b1.callTrackingEnabled+",manual="+b1.callTrackingManual);var dK=JSON.stringify(ck.roistat.page.params);return R()+"/addVisit?v="+Y+"&marker="+encodeURIComponent(by)+"&visit="+dH+"&first_visit="+dI+"&guid="+dJ+"&phone_prefix="+cI+"&phone_prefix_bind="+dx+"&phone_scripts_bind="+U+"&referrer="+dL+"&page="+dM+"&ab="+c(dN)+"&"+h()+"="+au()+(dK==="{}"?"":"&page_params="+encodeURIComponent(dK))+((!b1.callTrackingEnabled||b1.callTrackingManual)?"&call_tracking_disabled=1":"")};var e=function(dH){setTimeout(function(){A("Call: setVisitIdCookie script creation after timeout");var dI=L.createElement("script");dI.onload=dI.onreadystatechange=function(){var dK=this.readyState?this.readyState:"unknown";A("Call: setVisitIdCookie script state changed to "+dK)};dI.src=dH;dI.type="text/javascript";dI.async=true;dI.id=aa;var dJ=L.getElementsByTagName("script")[0];dJ.parentNode.insertBefore(dI,dJ);A("Call: setVisitIdCookie appended "+((L.getElementById(aa))?"true":"false"));A("Call: sendJSONPRequest to URL "+dH);ct()},b1.jsonpRequestTimeout)};if(by){ar(by);de()}var dG=j(aT);if(dG){dn(b3,dG,cV)}aB();var dF=dE();e(dF);l?ad():b7()};var bP=function(){A("Call: sendAbTests");var dE=function(){var dI=a6(),dH=j(cb);return bb()+"//"+x+"/site-api/"+aI+"/"+dI+"/visit/"+dH+"/addAbVariant"};var dF=j(bz);if(!dF){return}var dG=dE();dG=dG+"?ab="+c(dF);var e=L.createElement("img");e.src=dG;ct()};var aV={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(aV.Android()||aV.BlackBerry()||aV.iOS()||aV.Opera()||aV.Windows())}};var a4={isIE:function(dF,dH){var dI="IE",dE=L.createElement("B"),e=L.documentElement,dG;if(dF){dI+=" "+dF;if(dH){dI=dH+" "+dI}}dE.innerHTML="<!--[if "+dI+']><b id="iecctest"></b><![endif]-->';e.appendChild(dE);dG=!!L.getElementById("iecctest");e.removeChild(dE);return dG}};var dc=function(){return ch.get(ac)};var ag=function(){var e="";ck.onerror=function(dJ,dI,dF,dH,dG){var dE=!dH?"":", column: "+dH;dE+=!dG?"":", error: "+dG;e=e+", Error: "+dJ+", url: "+dI+", line: "+dF+dE};setTimeout(function(){var dL=false,dM="";var dH=dj();for(var dK=0;dK<dH.length;dK++){var dG=dH[dK];if(dG!==null&&!dG.innerHTML){dL=true;dM="Promo HTML: "+dG.innerHTML}}if(!(j(cb)>0)){dL=true;dM=dM+"; roistat_visit = "+j(cb)}if(dL){var dF=L.getElementById(aa);var dE=dF?1:0;var dI=ck.navigator.userAgent;dM=encodeURIComponent(dM);var dJ=L.createElement("img");dJ.src=bb()+"//"+x+"/site-api/"+aI+"/"+a6()+"/debug?message="+dM+"&agent="+dI+"&"+h()+"="+au()+"&jserror="+e+"&scriptResponse="+dE+"&version="+Y+"&debug="+bh}},20000)};var bE=function(){var dF=L.getElementsByTagName("body");var dG=L.documentElement;var dE=0,dH=0;if(dF.length){var e=dF[0];dE=ck.innerWidth||dG.clientWidth||e.clientWidth;dH=ck.innerHeight||dG.clientHeight||e.clientHeight}else{dE=ck.innerWidth||dG.clientWidth;dH=ck.innerHeight||dG.clientHeight}return{width:dE,height:dH}};var a9=function(){var dJ=L.getElementsByClassName("roistat-promo-wrap");if(dJ.length){A("PromoCode: old promo code length - exit");return}if(aK()){A("PromoCode: Shut down because only online chat need to be inited");return}var dI=ch.getObject(aS);if(dI&&dI.hasOwnProperty("is_enabled")){ck.roistat.promoCode.isEnabled=dI.is_enabled;A("PromoCode: set is_enabled from storage")}var dG=function(){var dQ=L.createElement("div");dQ.innerHTML=roistatPromoCode;var dO=L.getElementsByTagName("body");if(dO.length){dO[0].appendChild(dQ)}A("PromoCode: appended to body "+roistatPromoCode.length);var dP=L.getElementsByClassName("roistat-promo-wrap")[0];if(!dP){A("PromoCode: roistat-promo-wrap not found, skip");return}var dN=dP.style;var dL,dM,dK;setInterval(function(){dL=bE();dM=dP.offsetWidth;dK=dP.offsetHeight*2;switch(roistatPosition){case"top_left":dN.left=0;dN.top=0;break;case"top":dN.left=((dL.width-dM)/2)+"px";dN.top=0;break;case"top_right":dN.right=0;dN.top=0;break;case"left":dN.left=0;dN.top=((dL.height-dK)/2)+"px";break;case"right":dN.right=0;dN.top=((dL.height-dK)/2)+"px";break;case"bottom_left":dN.left=0;dN.bottom=0;break;case"bottom":dN.left=((dL.width-dM)/2)+"px";dN.bottom=0;break;case"bottom_right":dN.right=0;dN.bottom=0;break;default:dN.left=0;dN.top=0}},500)};var e=ch.getObject("promo_code_options");
if(e){A("PromoCode: options already set");ck.roistatPromoCode=e.template;ck.roistatPosition=e.position;dG()}else{if(!ck.roistat.promoCode.isEnabled){A("PromoCode: is not available, skip");return}var dH=L.getElementsByTagName("head")[0]||L.documentElement;var dF=L.createElement("script");dF.src=bb()+"//"+x+"/site-api/"+aI+"/"+a6()+"/getPromoCode";dH.insertBefore(dF,dH.firstChild);A("PromoCode: loading started");var dE=false;dF.onload=dF.onreadystatechange=function(){if(!dE&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dE=true;dF.onload=dF.onreadystatechange=null;if(dH&&dF.parentNode){dH.removeChild(dF)}}if(!dE){return}A("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){A("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};ch.setObject("promo_code_options",e);dG()}}};var aw=function(dE,dF){for(var e=0;e<dE.length;e++){if(dE[e]===dF){return true}}return false};var bD=function(e,dE){if(!cu){return}aY(e+(dE!==""?"?log="+encodeURIComponent(dE):""))};var H=function(dE){if(!aj||dE===""){return}var e=p();dl("visit: "+e+" "+dE)};var dl=function(dE){var e=R()+"/log?log="+encodeURIComponent(dE);aY(e)};var aJ=function aJ(){var dH=ck.onpopstate;var dI=ck.history.pushState;var e=ck.history.replaceState;ai(ck,"popstate",function dG(dJ){A("[Roistat]: popstate event catch");b9();if(af()&&typeof dH==="function"){dH(dJ)}});ai(ck.history,"pushState",function dF(dK,dL,dJ){A("[Roistat]: pushState event catch");b9();if(af()&&typeof dI==="function"){dI.apply(this,[dK,dL,dJ])}});ai(ck.history,"replaceState",function dE(dK,dL,dJ){A("[Roistat]: replaceState event catch");b9();if(af()&&typeof e==="function"){e.apply(this,[dK,dL,dJ])}})};(function bN(){aJ();if(ck.onRoistatModuleLoaded!==bH&&typeof ck.onRoistatModuleLoaded==="function"){ck.onRoistatModuleLoaded()}})();var bK=function(dE){var dJ=function(dQ,dO){var dN;if(c7(dO,"*")){var dP=new RegExp(dO.split("*").join(".*"));dN=dP.test(dQ)}else{dN=dQ===dO}A("LeadHunter: compare current: "+dQ+", setting: "+dO+" with result = "+(dN?1:0));return dN};var e=ck.location.href,dG=false,dF=false,dL="",dH=0,dK;dK=dE?dE.split(","):[];if(!e||dK.length===0){dG=true}else{dL=aM(e);var dM;for(var dI=0;dI<dK.length;dI++){dM=dK[dI].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(dM)){if(dJ(dL,dM.split(/^!/).join(""))){dF=true;break}}else{dH++;if(dJ(dL,dM)){dG=true;break}}}}if(dF){A('LeadHunter: current page "'+dL+'" is disabled by list');return false}if(!dG&&dH>0){A('LeadHunter: current page "'+dL+'" is not listed');return false}A('LeadHunter: current page "'+e+'", cleaned: "'+dL+'" is not disabled in '+dK.length+" list of pages");return true};try{du()}catch(cv){H(cv)}(function a8(){var d2="empty",dJ=false,dE=true,dT=false;var dY={roistat_visit:j(cb),marker:by,user_agent:ck.navigator.userAgent,current_page:{title:L.title,href:ck.location.protocol+"//"+ck.location.host+ck.location.pathname,},};var d3=function(d9,d8,d7){if(d9.addEventListener){d9.addEventListener(d8,d7,false)}else{if(d9.attachEvent){d9.attachEvent("on"+d8,d7)}else{A("Handler could not be attached")}}};var dV=function(d9,d7){if(d9===bH||typeof d7!=="string"||d7.length===0){return}var d8=d9.getElementsByClassName(d7);if(d8===bH||d8.length===0){return}return d8[0]};var d4=function(d7){return typeof d7==="object"&&d7!==null};var dK=function(d7,d9,d8){if(d4(d7)){if(d8){d7.classList.add(d9);return}d7.classList.remove(d9)}};var d5=ck.visualViewport;var dS="visualViewport" in ck;var dW=function(d7){return(d7===0)?1:d7};var d6=function(){var d7;if(dS){d7=1/dW(d5.scale)}else{d7=ck.innerWidth/dW(ck.outerWidth)}return d7};var d0=function(){return"scale("+d6()+")"};var dZ={leadHunter:function(){var fU="roistat-lh-form",ev="roistat-lh-form",fX="roistat-lh-head-text",eJ="roistat-lh-head",er="roistat-lh-thank-you",fa="roistat-lh-thank-you",ec="roistat-lh-close",ed="roistat-lh-submit",eS="roistat-lh-hidden",fz="roistat-lh-wrap",ex="roistat-lh-popup-wrapper",e9="roistat-lh-popup",fW="roistat-lh-agreement",e5="roistat-lh-agreement roistat-lh-mobile",gc="roistat-lh-agreement-input",fL="roistat-lh-agreement-link",d7="roistat-lh-agreement-doc",fQ="roistat-lh-alert-row",fh="roistat-lh-agreement",e4="roistat-lh-popup-iframe",fk="roistat_leadHunterUrl",fN="roistat_leadHunterAppearanceUrl",eW="roistat_leadHunterTargetPagesList",eq="roistat_leadHunterCaught",fr="roistat_leadHunterMinTime",eN="roistat_leadHunterAutoShowTime",fo="roistat_leadHunterPulsatorEnabled",eH="roistat_leadHunterScriptsCaught",gd="roistat_leadHunterScriptsShownCount",e2="roistat-lh-load-done",ew="roistat-lh-close-modal",fB="roistat-lh-script-settings",fA="roistat-lh-setting-size",fR="roistat-lh-before-submit",fl="roistat-lh-before-submit-done",fZ="roistat-lh-after-submit",fE="roistat-lh-event-data",fF="roistat-lh-translate-form",f9={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};
var ep=0.3,eB=0.001,es=false,eE=0,ez=0,eF=0,f1=0,eD=0,eT=false,eh=false,gb=false,eC,fP,fc,fi,fy,eI,ga,f5,fM,f8,el,f2,fv,fd,e3,eo,ea,eR,eG,eO,fJ,fS,eL,fV,f0,eV;var f4={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var fY=function(gi){var gh=encodeURIComponent?encodeURIComponent:encodeURI;return gh(gi)};var fD=function(){if(!ck.roistat.leadHunter.isEnabled){return false}if(ck.roistatLeadHunterInited){return false}ck.roistatLeadHunterInited=true;if(ch.get(bI)<1){A("LeadHunter: disabled");return false}return true};var eQ=function(){ea=ch.get(fk);if(!ea){A("LeadHunter: not active cause of empty url");return false}bY();eR=ch.get(fN);f1=ch.get(fr);eD=ck.roistat.leadHunter.form.autoShowTime===null?ch.get(eN):ck.roistat.leadHunter.form.autoShowTime;dJ=ch.get(fo)==1;d9();A("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(dJ?1:0));return true};var eY=function(){return ch.get(eq)>0};var d9=function(){if(!(j(ae)>0)){A("LeadHunter: not active, expired for this visit");eT=true}};var ei=function(gh){gb=true;eO=fJ.src;var gi={version:Y,additionalNotifyEmail:ck.roistat.leadHunter.additionalNotifyEmail,projectKey:a6(),language:ah,visitId:cB(),moduleTargetOrigin:ck.location.origin,referrer:ck.location.href,windowWidth:ck.innerWidth||0,iframeWrapperWidth:fi.offsetWidth||0,sendRequestUrl:ch.get(fk),message:e2};fJ.contentWindow.postMessage(gi,eO);fq();if(gh){A("Beta Test on, iframe fired, rise up iframe show count state");eb()}};var e1=function(){eh=true;eg("click");ei();fx()};var ef=function(){var gh=ck.location.hash;if(!gh){return}if(c7(gh,"roistat-lead-hunter")){e1()}};var eZ=function en(){A("LeadHunter: binding timeout");if(eT){A("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(es){A("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eD>0){var gh=(eE-co())+eD*1000;A("LeadHunter: binding timeout with delay "+gh+" ms");clearTimeout(f4.timeoutId);f4.timeoutId=setTimeout(function(){A("LeadHunter: form auto activate with autoTime = "+eD);if(!es){A("LeadHunter: show by timeout");eh=true;eg("auto");ei(true);fx()}},gh)}else{A("LeadHunter: auto show time is not positive, feature disabled")}};var fO=function(){fM.onclick=fy.onclick=ff;f8.onclick=eU;if(d4(f2)){d3(f2,"click",e6)}if(d4(fv)){d3(fv,"change",gf)}var gi=L.getElementsByClassName("roistat-lh-input");if(Array.isArray(gi)){for(var gl=0;gl<gi.length;gl++){d3(gi[gl],"keyup",function(gp){gp=gp||event;var go=(gp.keyCode?gp.keyCode:gp.which);if(go==13){eU()}})}}var gj=ck.onresize;ck.onresize=function(go){if(gj){gj(go)}fT(go)};if(!eT){var gh=L.onmouseout;L.onmouseout=function(go){if(gh){gh(go)}fu(go)}}if(dJ&&!dR()&&d4(eC)){eC.onmouseover=function(){an(eC,"roistat-lh-pulsator-hover")};eC.onmouseout=function(){ca(eC,"roistat-lh-pulsator-hover")};eC.onclick=function(){e1()};ck.addEventListener("resize",function gn(){eC.style.transform=d0()});if(dS){d5.addEventListener("resize",function gm(){eC.style.transform=d0()})}}var gk=ck.onhashchange;ck.onhashchange=function(){if(gk){gk.apply(this,arguments)}ef()}};var f7=function(){if(dJ&&!dR()&&d4(eC)){eC.onmouseover=function(){an(eC,"roistat-lh-pulsator-hover")};eC.onmouseout=function(){ca(eC,"roistat-lh-pulsator-hover")};eC.onclick=function(){e1()};ck.addEventListener("resize",function gl(){eC.style.transform=d0()});if(dS){d5.addEventListener("resize",function gk(){eC.style.transform=d0()})}}fy.onclick=ff;fJ=L.getElementById(e4);if(d4(fJ)){d3(fJ,"load",function(){ei();f3()})}var gi=ck.onresize;ck.onresize=function(gm){if(gi){gi(gm)}fT(gm)};if(!eT){var gh=L.onmouseout;L.onmouseout=function(gm){if(gh){gh(gm)}if(!af()){A("ShowLimit: Beta Test off, check cursor usually");fu(gm)}else{A("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fw()&&!eA()){A("ShowLimit: Check cursor allowed");fu(gm,true)}}}}var gj=ck.onhashchange;ck.onhashchange=function(){if(gj){gj.apply(this,arguments)}ef()}};var fe=function(gi){var gh=L.getElementsByClassName(gi);if(gh.length>0){return gh[0]}else{return null}};var fb=function(){var gk=fe("roistat-lh-title");if(d4(gk)&&roistat.leadHunter.form.title){gk.innerHTML=roistat.leadHunter.form.title}var gi=fe("roistat-lh-sub-title");if(d4(gi)&&roistat.leadHunter.form.subTitle){gi.innerHTML=roistat.leadHunter.form.subTitle}var gj=fe("roistat-lh-thank-you");if(d4(gj)&&roistat.leadHunter.form.thankYouText){gj.innerHTML=roistat.leadHunter.form.thankYouText}var gm=fe("roistat-lh-submit");if(d4(gm)&&roistat.leadHunter.form.buttonText){gm.value=roistat.leadHunter.form.buttonText}var gl=fe("roistat-lh-text-label-name");if(d4(gl)&&roistat.leadHunter.form.nameLabel){gl.innerHTML=roistat.leadHunter.form.nameLabel}var gh=fe("roistat-lh-text-label-contact");if(d4(gh)&&roistat.leadHunter.form.contactLabel){gh.innerHTML=roistat.leadHunter.form.contactLabel}};var ey=function(gi,gm,gl){var gh;if(!gi){A("LeadHunter: deactivating, empty form")}else{A("LeadHunter: rendering hidden form")}fy=L.createElement("div");fi=L.createElement("div");fi.innerHTML=gi;
fy.className=eS;fi.className=eS;A("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(dJ?1:0));if(gm&&dJ&&gl&&!dR()){var gj=typeof gl.position==="string"&&gl.position!==""?gl.position:"bottomRight";gh=L.createElement("div");gh.innerHTML=gm;eC=gh.childNodes.item(0);fP=eC.childNodes.item(1);fc=eC.childNodes.item(2).childNodes.item(0);fP.setAttribute("style","background: "+gl.button.background+";");fc.setAttribute("style","fill: "+gl.button.color+";");eC.setAttribute("style","bottom: "+f9[gj].bottom+";right:"+f9[gj].right+";");eC.style.transformOrigin=f9[gj].transformOrigin;eC.style.transform=d0();f4.pulsator.previousClass=eC.className;eC.className=eS;L.body.appendChild(eC)}L.body.appendChild(fy);L.body.appendChild(fi);eI=L.getElementById(eJ);ga=L.getElementById(ev);f5=L.getElementById(fa);fM=L.getElementById(ec);f8=L.getElementById(ed);el=L.getElementById(fW);fv=L.getElementById(gc);f2=L.getElementById(fL);fd=L.getElementById(d7);e3=L.getElementById(fQ);eo=L.getElementById(fh);var gk=fe(ex);eG=d4(gk)&&gk.getAttribute("data-is-iframe");if(eG){f7()}else{fb();fO();ef();f3()}};var f6=function(gj){var gi=gj.button&&gj.button.background&&gj.button.color;if(!gi){return}ch.setObject(bZ,eV);var gh=typeof gj.position==="string"&&gj.position!==""?gj.position:"bottomRight";if(d4(fP)){fP.setAttribute("style","background: "+gj.button.background+";")}if(d4(fc)){fc.setAttribute("style","fill: "+gj.button.color+";")}if(d4(eC)){eC.setAttribute("style","bottom: "+f9[gh].bottom+";right:"+f9[gh].right+";");eC.style.transformOrigin=f9[gh].transformOrigin;eC.style.transform=d0()}};var em=function(){var gh=ch.get(b0),gj=ch.get(bv),gi=ch.getObject(bZ);ey(cn.decode(gh),cn.decode(gj),gi)};var eX=function(){var gi=fi.clientWidth,gh=fi.clientHeight;if(d4(fi)){fi.setAttribute("style",fi.getAttribute("style")+" width: "+gi+"px; height: "+gh+"px;")}if(d4(ga)){ga.className=eS}if(d4(eI)){eI.className=eS}if(d4(el)){el.className=eS}if(d4(f5)){f5.setAttribute("style","width: "+gi+"px; height: "+gh+"px; display: table-cell;");f5.className=er}setTimeout(function(){A("LeadHunter: close form after timeout");ff()},7000)};var fx=function(){var gi=Math.round((fK()-fi.clientHeight)/2);var gh=Math.round((gg()-fi.clientWidth)/2);if(d4(fi)){fi.setAttribute("style","left: "+gh+"px; top: "+Math.max(0,gi)+"px;")}};var eg=function(gi){if(ck.roistat.leadHunter.onBeforeAppear){A("LeadHunter: process user defined onBeforeAppear");ck.roistat.leadHunter.onBeforeAppear(gi);if(eG){fq()}}if(d4(fi)){fi.setAttribute("style","left:20px;top:-20px;opacity:0");fi.className=e9}if(d4(fy)){fy.className=fz}if(d4(ga)){ga.className=fU}if(d4(eI)){eI.className=fX}if(d4(el)){el.className=e5}if(d4(f5)){f5.setAttribute("style","");f5.className=eS}if(d4(fy)){fy.setAttribute("style","opacity:0;")}es=true;setTimeout(function(){fy.setAttribute("style","opacity:.5;")},10);var gj=j(cb),gh=eR+"?visit_id="+gj+"&page="+z();V(gh);if(ck.roistat.leadHunter.onAfterAppear){A("LeadHunter: process user defined onAfterAppear");ck.roistat.leadHunter.onAfterAppear(gj,fy,fi,ga);if(eG){fq()}}};var fC=function fg(){eE=co();em();A("LeadHunter: form initialized")};var f3=function e0(){A("LeadHunter: tuning appearance for page");if(!bK(ch.get(eW))||(ch.get(aX)&&!ch.get(Z))){A("LeadHunter: disabled on page");f4.leave.isShowEnabled=false;clearTimeout(f4.timeoutId);if(dR()){dE=false;dO()}if(d4(eC)){eC.className=eS}}else{A("LeadHunter: enabled on page");if(!eY()&&!af()){A("ShowLimit: Beta Test off, bindShowOnTimeout usually");f4.leave.isShowEnabled=true;eZ()}if(af()){A("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fw()&&!eA()){A("ShowLimit: bindShowOnTimeout allowed");f4.leave.isShowEnabled=true;eZ()}}if(d4(eC)){eC.className=f4.pulsator.previousClass}}};var eK=function ft(){A("LeadHunter: processing single page application state change");eE=co();f3()};var fI=function e7(){ay(eK);var gi=function(){var go=L.querySelector("html"),gk=600,gn=300,gq=ck.innerWidth,gj=getComputedStyle(go).zoom,gm={};var gl=function(){var gr=go.style.cssText.split(";").find(function(gs){return gs.includes("--zoomLevel")});if(gr!==bH){gr=gr.split(":");if(gr.length>1){gr=parseFloat(gr[1])}else{return bH}}return gr};var gp=gl();if(gp!==bH){gj=gp}if(gq<gk&&gq>=gn){gm={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gj};fJ.contentWindow.postMessage({sizeSettings:gm,message:fA,windowWidth:ck.innerWidth||0},eO);return}if(gq<gn){gm={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gj};fJ.contentWindow.postMessage({sizeSettings:gm,message:fA,windowWidth:ck.innerWidth||0},eO);return}gm={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gj};fJ.contentWindow.postMessage({sizeSettings:gm,message:fA,windowWidth:ck.innerWidth||0},eO)};ck.roistatLeadHunterUpdate=gi;ai(ck,"load",function(){gi()});ai(ck,"resize",function(){gi()});ai(ck,"message",function gh(gn){var gs=typeof gn.data==="string"?gn.data:gn.data.message;if(gs===fB){fS=gn.data.scriptId;eL=gn.data.showsLimit;var gr=ch.getObject(s)!==null;if(gr){fV=gn.data.leadHunterAutoShowTime;
f0=gn.data.leadHunterMinTime;f0=gn.data.leadHunterMinTime;eV=gn.data.leadHunterPulsatorSettings;ch.set(fr,f0);ch.set(eN,fV);if(eV){var gq=Number(eV.isEnabled);A("Leadhunter: set pulsator setting "+gq);ch.set(fo,gq);f6(eV)}}A("ShowLimit: Get lhScriptId: "+gn.data.leadHunterId+" and lhScriptMaxShownCount: "+gn.data.leadHunterMaxShownCount+" from lh widget");fn()}if(gs===ew){ff()}if(gs===fA){const gm=typeof gn.data==="object"&&gn.data.calibratingSize!==bH?gn.data.calibratingSize:true;fJ.setAttribute("style","width: "+gn.data.width+"px !important; height: "+gn.data.height+"px !important;");if(gb&&!gm){fJ.contentWindow.postMessage({message:fA,windowWidth:ck.innerWidth||0,calibratingSize:true},eO)}fT(gn)}if(gs===fR){var gl=gn.data.caughtLeadData;if(ck.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gj=ck.roistat.leadHunter.onBeforeSubmit(gl);if(gj){gl=gj}}if(!af()){A("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");ej()}else{A("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fp()}var gk=ch.getObject(cz);var gp=gk!==null;var go=gp&&gl.isNeedCallback===null&&!P(gk);if(go){gl.isNeedCallback=0}fJ.contentWindow.postMessage({caughtLead:gl,message:fl},eO)}if(gs===fZ){if(ck.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");ck.roistat.leadHunter.onAfterSubmit({name:gn.data.name,phone:gn.data.phone})}}})};function fq(){var gh={apiData:ck.roistat.leadHunter.form,message:fE};fJ.contentWindow.postMessage(gh,eO)}function fn(){if(!fD()){A("checkLeadHunterLaunch false");return}var gh=ch.getObject(s)!==null;if(gh){ek()}if(!eQ()){A("initSettings false");return}A("LeadHunter: activated");fC();f3();fI()}function fK(){return(ck.innerHeight?ck.innerHeight:L.documentElement.clientHeight==0?L.body.clientHeight:L.documentElement.clientHeight)}function gg(){return(ck.innerWidth?ck.innerWidth:L.documentElement.clientWidth==0?L.body.clientWidth:L.documentElement.clientWidth)}function fu(gk,gh){gk=gk||event;eF=gk.clientY;var gi=eF/fK(),gm=ez>0&&ez>gi,gj=gi<eB,gl=(co()-eE)>f1*1000;if(gm&&gj&&!es&&gl&&f4.leave.isShowEnabled&&!eY()){A("LeadHunter: show modal with because move up ("+ez+" -> "+gi+") and in modal zone and show on leave enabled");eg("exit");ei(gh);e8(gk)}if(gi<ep){ez=gi}}function fT(gh){if(eh){fx()}else{gh=gh||event;e8(gh)}}function e8(gm){var gi=gm.type==="message"?gm.data.width:fi.offsetWidth;var gj=gg();var gh=gm.clientX-Math.round(gi/2)||fi.offsetLeft;gh=Math.max(20,Math.min(gh,gj-gi-20));var gn=gh+gi>gj-40;if(gn){var gk=(gh+gi-20)-(gj-40);gh=gh-gk}var gl=gj-40>gi?"":"width: "+(gi-40)+"px;";if(d4(fi)){fi.setAttribute("style","left: "+gh+"px; top: 0px; "+gl)}}function ej(){ck.roistatSetCookie(eq,1,cV)}function ff(){if(!af()){A("ShowLimit: Beta Test off, setCookieLeadHunterCaught");ej()}if(d4(fy)){fy.setAttribute("style","opacity:0")}if(d4(fi)){fi.style.top="-"+fi.offsetHeight*2+"px";setTimeout(function(){fi.className=fy.className=eS},500)}}function eU(){var gv=L.getElementById("roistat-lh-phone-input"),gj=L.getElementById("roistat-lh-name-input"),gl,gt;gl=gv===null?"":gv.value;gt=gj===null?"":gj.value;var gq={name:gt,phone:gl,isNeedCallback:null,callbackPhone:null,fields:{}};if(ck.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gm=ck.roistat.leadHunter.onBeforeSubmit(gq);if(gm){gq=gm}}var gs=gq.phone.length<1;var gu=gq.phone.indexOf("_")===-1;var go=!gs&&gu;var gr=gq.name.length<1;var gi=!gr||!ck.roistat.leadHunter.form.isNameRequired;if(!go&&d4(gv)){gv.setAttribute("style","border: 2px solid #E0571A;");return}if(!gi&&d4(gj)){gj.setAttribute("style","border: 2px solid #E0571A;");return}var gh=ea+"?v="+Y+"&lead-hunt-input="+encodeURIComponent(gq.phone)+"&lead-name="+encodeURIComponent(gq.name)+"&visit="+cB();if(gq.isNeedCallback!==null&&gq.isNeedCallback!==bH){gh=gh+"&is_need_callback="+(gq.isNeedCallback>0?1:0)}if(gq.callbackPhone){gh=gh+"&callback_phone="+gq.callbackPhone}if(ck.roistat.leadHunter.additionalNotifyEmail!==null){gh=gh+"&additional_email="+encodeURIComponent(ck.roistat.leadHunter.additionalNotifyEmail)}var gk=0;if(gq.fields&&typeof gq.fields==="object"){for(var gn in gq.fields){if(gq.fields.hasOwnProperty(gn)){++gk}}}if(gk>0){gh=gh+"&fields="+fY(JSON.stringify(gq.fields))}gh=gh+"&t="+co();var gp=L.createElement("img");gp.src=gh;if(d4(gv)){gv.setAttribute("style","")}if(!af()){A("ShowLimit: Beta Test off, caught LH usually");ej()}else{A("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fp()}if(!d4(f5)){ff();eP()}else{eX()}if(ck.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");ck.roistat.leadHunter.onAfterSubmit({name:gt,phone:gl})}}function e6(gh){if(gh.preventDefault){gh.preventDefault()}else{gh.returnValue=false}if(d4(fd)){fd.style.display==="block"?fd.style.display="none":fd.setAttribute("style","display: block; padding: 0 30px; width:"+fi.clientWidth+"px;")
}fT()}function gf(){if(d4(f8)){f8.disabled===true?f8.disabled=false:f8.disabled=true}if(d4(e3)){e3.style.display==="block"?e3.style.display="none":e3.style.display="block"}}function eP(){L.onmousemove=null;if(d4(fy)){fy.onresize=null}}var eM=function(gn,gq){if(!gn||!gq){A("LeadHunter: skip phone mask render due to empty input or mask");return}A("LeadHunter: render phone mask "+gq+" for input: "+gn.value);if(ck.roistatRenderPhoneMaskMutex){return}ck.roistatRenderPhoneMaskMutex=true;var gk="_",gj="x",gm="",gl=gq.toLowerCase().split(gj).join(gk).split(gm).join(gk);var gi=function(gr){if(gn.setSelectionRange){gn.setSelectionRange(gr,gr)}else{if(gn.createTextRange){var gs=gn.createTextRange();gs.collapse(true);gs.moveEnd("character",gr);gs.moveStart("character",gr);gs.select()}}};var go=function(gr){if(!gr){return 0}var gs=gr.indexOf(gk);if(gs<0){return gr.length}return gs};var gp=function(gr){gi(go(gr))};var gh=function(gA){var gB=gl.split("");if(!gA){return gl}var gr=gA.split("");var gC=[],gz,gw,gy,gv,gt,gs,gx;for(var gu=0;gu<gB.length;gu++){gw=gB[gu];if(gu>=gr.length){gC.push(gw);continue}gt=((gu+1)<gB.length)?gB[gu+1]:null;gs=((gu+1)<gr.length)?gr[gu+1]:null;gx=((gu+2)<gr.length)?gr[gu+2]:null;gz=gr[gu];gy=parseInt(gz)>=0;gv=(gw===gk)&&gy;if(!gv){gC.push(gw);continue}if(gs===gk&&gt!==gk&&gx!==gt){gC.push(gw);continue}gC.push(gz)}return gC.join("")};setTimeout(function(){var gr=gh(gn.value);if(gn.value!==gr){gn.value=gr}gp(gr);ck.roistatRenderPhoneMaskMutex=false},1)};var fH=function(gh,gj,gi){ch.set(b0,cn.encode(gh));ch.set(bv,cn.encode(gj));ch.setObject(bZ,gi)};var fm=function(gh){ah=gh;if(fJ===bH){return}d8()};var d8=function(){var gh={language:ah,message:fF};fJ.contentWindow.postMessage(gh,eO)};var fp=function(){A("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gh=et(eH);if(!gh){gh={}}A("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gh[fS]=1;fG(eH,gh)};var eb=function(){A("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gi=et(gd);if(!gi){gi={}}var gj=gi.hasOwnProperty(fS);if(!gj){A("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gi[fS]=0}var gh=gi[fS]+1>eL;if(gh){A("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}A("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gi[fS]+=1;fG(gd,gi)};var fG=function(gh,gi){dn(gh,JSON.stringify(gi),cV)};var et=function(gh){var gi=j(gh);if(typeof gi!=="undefined"){return JSON.parse(gi)}return gi};var eA=function(){if(eL===0){A("ShowLimit: show limit off and set to 0");return false}var gh=et(gd),gi=gh?gh[fS]:null,gj=gi+1>eL;A("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gj);return gj};var fw=function(){var gj=et(eH),gh=gj?gj[fS]:null,gi=gh===1;A("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gi);return gi};var ek=function(){ch.set(aX,ee());ch.set(b0,cn.encode(fs()));ch.set(eW,eu());ch.set(fo,ge())};var fs=function(){var gh=bb()+"//"+x+"/api/site/1.0/"+a6()+"/leadhunter/script/"+ch.get(aX)+"/widget?visit_id="+p();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gh+'" frameborder="0"></iframe></div>'};var ee=function(){var gi=ch.getObject(s);if(gi===null){return}ch.set(Z,"");var gm=Number(ch.get(bI));var gq=Object.keys(gi);var gn=gq.sort()[0];if(!gm){return gn}for(var gl=0;gl<gq.length;gl++){var gr=gi[gq[gl]];var go=gr.targetPageList;var gk=bK(go.join(","));var gj=go.length===0;var gh=Array.isArray(gr.devicesFilter)&&gr.devicesFilter.length>0?gr.devicesFilter.indexOf(G())!==-1:true;var gp=(gj||gk)&&gh&&(!gr.timetable.isEnabled||P(gr.timetable));if(gp){gn=gq[gl];ch.set(Z,gn)}}return gn};var eu=function(){var gh=fj();return gh!==null?gh.targetPageList.join(","):""};var ge=function(){var gh=fj();return gh!==null?Number(gh.isPulsatorEnabled):0};var fj=function(){var gh=ch.get(aX);var gi=JSON.parse(ch.get(s));return gi[gh]!==null?gi[gh]:null};cA(fn);ck.roistatLeadHunterShow=e1;ck.roistatRenderPhoneMask=eM;ck.roistat.leadHunter.localization.translateToRussian=function(){fm(bW)};ck.roistat.leadHunter.localization.translateToEnglish=function(){fm(dt)}},multiwidget:function(){var eN="roistat-multiwidget-hidden",eX="roistat-multiwidget-pulsator-phone",eV="roistat-multiwidget-pulsator-popup-item-lead-hunter",eo="roistat-multiwidget-pulsator-fill",e0="roistat-multiwidget-pulsator-fill-svg",eE="roistat-multiwidget-pulsator-img-icon",en="roistat-multiwidget-pulsator-popup-item-chat",ea="roistat-multiwidget-pulsator-popup-item-facebook",ef="roistat-multiwidget-pulsator-popup-item-vk",eD="roistat-multiwidget-pulsator-popup-item-telegram",eu="roistat-multiwidget-pulsator-popup-item-whats-app",es="roistat-multiwidget-pulsator-popup-item-viber",eI="roistat-multiwidget-pulsator-items-popup-holder",eC="iframe_chat_successfully_loaded",eh="roistat-multiwidget-pulsator-popup-tail",eA="roistat-online-chat-popup-wrapper",eZ="roistat-online-chat-popup-wrapper-hidden",eT="roistat-multiwidget-pulsator-holder-hidden";
var em,eH,ev,eW,d7,ed,eY,ez,ej,d9,ek,eb,eP,ec;var er=false;var eU={topLeft:{bottom:"unset",right:"unset",top:dy()?0:"20px",left:dy()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dy()?0:"35px",top:dy()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:dy()?0:"20px",right:dy()?0:"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dy()?0:"20px",right:"unset",top:"unset",left:dy()?0:"35px",transformOrigin:"bottom left"}};var eg={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var et={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function eM(e2){A("Multiwidget: "+e2)}function eB(){eH=dV(em,eX);ev=dV(em,eI);eW=dV(em,eh);ez=dV(ev,eV);ej=dV(ev,en);d9=dV(ev,ef);ek=dV(ev,ea);eb=dV(ev,eD);eP=dV(ev,eu);ec=dV(ev,es);d7=dV(eH,eo);ed=eH.getElementsByClassName(e0);eY=dV(eH,eE)}function ep(){if(d4(ev)){ev.classList.toggle(eN)}}function eS(e2){if(d4(e2)){e2.classList.toggle("opened")}}function e1(){eM("add pulsator events");d3(eH,"click",function(){if(!ex()){ep()}eS(eH)});d3(ez,"click",function(){eM("opening leadhunter via multiwidget");ck.roistatLeadHunterShow();ep();dK(eH,"opened",false)});d3(ej,"click",function(){eM("opening online chat via multiwidget");ck.roistatOnlineChatShow();ep()});d3(d9,"click",function(){ck.open(ch.get(cQ),"_blank")});d3(ek,"click",function(){ck.open(ch.get(c9),"_blank")});d3(eb,"click",function(){ck.open(ch.get(bq),"_blank")});d3(eP,"click",function(){ck.open(ch.get(bG),"_blank")});d3(ec,"click",function(){ck.open(ch.get(cF),"_blank")})}function ex(){var e2=dV(L,eA);return d4(e2)&&!e2.classList.contains(eZ)}function ey(){return d4(eI)&&!eI.classList.contains(eN)}function ee(e2){if(d4(e2)){e2.classList.add(eN)}}function eK(e2){if(d4(e2)){e2.classList.remove(eN)}}function eF(){ee(ez)}function ew(){eM("hiding disabled multiwidget options");var e2=Number(ch.get(bI)),e3=Number(ch.get(b2)),e5=Number(ch.get(T)),e7=Number(ch.get(cC)),e4=Number(ch.get(cN)),e6=Number(ch.get(dD));if(!e2||!dJ||!dE){eM("hiding leadhunter option");eF()}if(!dN()||!er){eM("hiding online chat option");ee(ej)}if(!e3){eM("hiding vk-messenger option");ee(d9)}if(!e5){eM("hiding fb-messenger option");ee(ek)}if(!e7){eM("hiding telegram-messenger option");ee(eb)}if(!e4){eM("hiding whatsApp-messenger option");ee(eP)}if(!e6){eM("hiding Viber-messenger option");ee(ec)}}function d8(){var e3=ch.getObject(f);eM("start filling pulsator");if(e3){if(d4(d7)){d7.setAttribute("style","background: "+e3.button_color+";")}if(d4(eY)){eY.setAttribute("style","fill: "+e3.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(ed)){for(var e2=0;e2<ed.length;e2++){ed[e2].setAttribute("style","fill: "+e3.button_color+";")}}}}function eJ(){var e2=ch.getObject(f);return typeof e2.position==="string"&&e2.position!==""?e2.position:"bottomRight"}function eG(){if(d4(em)){var e2=eJ();em.setAttribute("style","top: "+eU[e2].top+";right:"+eU[e2].right+";bottom:"+eU[e2].bottom+";left:"+eU[e2].left+";");em.style.transformOrigin=eU[e2].transformOrigin;em.style.transform=d0()}}function eq(){if(d4(eH)){var e2=eJ();var e3=e2==="topLeft"||e2==="bottomLeft"?"margin-right":"margin-left";eH.setAttribute("style",e3+": auto")}}function eL(){if(d4(ev)){var e2=eJ();ev.setAttribute("style","top: "+eg[e2].top+";right:"+eg[e2].right+";bottom:"+eg[e2].bottom+";left:"+eg[e2].left+";")}}function ei(){if(d4(eW)){var e2=eJ();eW.setAttribute("style","top: "+et[e2].top+";right:"+et[e2].right+";bottom:"+et[e2].bottom+";left:"+et[e2].left+";border-top-color:"+et[e2]["border-top-color"]+";border-right-color:"+et[e2]["border-right-color"]+";border-bottom-color:"+et[e2]["border-bottom-color"]+";border-left-color:"+et[e2]["border-left-color"]+";")}}function eQ(){eG();eq();eL();ei()}function el(){var e3=cn.decode(ch.get(c4));if(e3){eM("appending multiwidget pulsator");var e2=L.createElement("div");e2.innerHTML=e3;em=e2.childNodes.item(0);if(!ck.roistat.multiwidget.isVisible){eM("Hide widget");em.className=em.className+" "+eT}L.body.appendChild(em);eB();ew();d8();eQ();e1()}}function eO(){ai(ck,"message",function e2(e6){var e5=typeof e6.data==="string"?e6.data:e6.data.message;
if(e5===eC){er=true;eK(ej)}});ai(ck,"resize",function e4(){if(d4(em)){em.style.transform=d0()}});if(dS){ai(d5,"resize",function e3(){if(d4(em)){em.style.transform=d0()}})}}function eR(){bY();eO();eM("activated");el()}dO=eF;cA(eR)},onlineChat:function(){var e5="iframe-module-created",ei="iframe_chat_successfully_loaded",d9="iframe-online-chat-opened",ee="iframe-online-chat-invite-message",e7="roistat-online-chat-init",fu="roistat-online-chat-reload",fg="roistat-online-chat-update-custom-params",ev="roistat-online-chat-lead_successfully_sent",fb="roistat-online-chat-translate-form",eE="roistat-online-chat-send-lead",fj="roistat_chat_id",ft="roistat_chat_session",e6="roistat_chat_custom_position",ep,ej,fk,ef,ek,fh,eY,ey,eX;var eS="roistat-online-chat-popup-iframe",eB="roistat-online-chat-hidden",fl="roistat-online-chat-holder",ff="roistat-online-chat-popup-wrapper",fd="roistat-multiwidget-pulsator-phone",ea="roistat-multiwidget-pulsator-popup-item-chat",eW="roistat-online-chat-popup-wrapper-hidden",ez="roistat-online-chat-popup-mouse-track",eR="roistat-online-chat-popup-mouse-track-active",eD="roistat-online-chat-pulsator-fill",fi="roistat-online-chat-pulsator-img",eL="roistat-online-chat-pulsator-phone",et="roistat-online-chat-pulsator-fill-svg",eV="roistat-online-chat-popup-spacer",eo=".roistat-multiwidget-pulsator-items-popup",em=".roistat-online-chat-pulsator-phone",eP=".roistat-online-chat-popup-wrapper";var eA=false,eC=false,e0=0,ec=0;var eT=".roistat-online-chat-holder";var eK="roistat-online-chat-holder-hidden";if(dR()){eT=".roistat-multiwidget-pulsator-holder";eK="roistat-multiwidget-pulsator-holder-hidden"}var fo;var fs={topLeft:{bottom:"unset",right:"unset",top:dy()?0:"20px",left:dy()?0:"35px"},topRight:{bottom:"unset",right:dy()?0:"35px",top:dy()?0:"20px",left:"unset"},bottomRight:{bottom:dy()?0:"20px",right:dy()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:dy()?0:"20px",right:"unset",top:"unset",left:dy()?0:"35px"}};var eU={topLeft:{top:dy()?"90px":"130px",right:"unset",bottom:"unset",left:dy()?"3%":"65px"},topRight:{top:dy()?"90px":"130px",right:dy()?"3%":"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:dy()?"3%":"65px",bottom:dy()?"90px":"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:dy()?"90px":"130px",left:dy()?"3%":"65px"}};var fm={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var e4=function(fw){A("onlineChat: "+fw)};var eu=function(){function fw(){return Math.random().toString(36).substr(2,8)}return fw()+fw()+fw()+fw()};var el=function(){var fw=ch.get(ft);if(!fw){fw=eu();ch.set(ft,fw)}return fw};var eb=function(){var fw={message:e5,detail:{version:Y,language:t,projectKey:a6(),visitId:cB(),firstVisit:ch.get(aZ),chatId:j(fj),moduleTargetOrigin:ck.location.origin,referrer:ck.location.href,params:dY,sessionUniqueKey:el()}};fh.contentWindow.postMessage(fw,fh.src)};var eq=function(){var fw={message:d9,detail:{isOpened:fn()}};fh.contentWindow.postMessage(fw,fh.src)};var es=function(){var fw={message:fg,detail:{params:dY}};fh.contentWindow.postMessage(fw,fh.src)};var d7=function(){var fw={language:t,message:fb};fh.contentWindow.postMessage(fw,fh.src)};var fc=function(){ai(ck,"message",function fw(fz){var fy=typeof fz.data==="string"?fz.data:fz.data.message;var fx=typeof fz.data!=="string"?fz.data.detail:{};e4("event: "+fy+" "+JSON.stringify(fx));switch(fy){case ei:fe();ck.setRoistatOnlineChatCustomParams=eH;eH(dY);break;case e5:eb();break;case e7:e4("saving chat id = "+fx.chatId);dn(fj,fx.chatId,{path:"/"});break;case ee:e4("rendering invite message");e8(fx.message);break;case eE:e4("sending lead");er(fx.leadData)}})};var eG=function(){var fx=ck.roistat.onlineChat.notificationsCustomHolderSelector;var fw=fx!==null;return L.querySelector(fw?fx:eT)};var er=function(fw){ck.roistatGoal.reach(fw,function(){fh.contentWindow.postMessage(ev,fh.src)})};var e8=function(fD){if(fn()){return}var fy="<div class='roistat-online-chat-message'><img src='"+fD.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+fD.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+fD.text+"</div></div><div class='roistat-online-chat-message-close'></div></div>";var fC=L.createElement("div");fC.innerHTML=fy;var fB=eG();if(d4(fB)){var fE=eZ()?"beforeend":"afterbegin";fB.insertAdjacentHTML(fE,fy);var fA=fB.getElementsByClassName("roistat-online-chat-message-close");var fw=fB.getElementsByClassName("roistat-online-chat-message");var fz=fA[eZ()?fA.length-1:0];var fx=fw[eZ()?fA.length-1:0]}setTimeout(function(){fx.remove()},15000);d3(fx,"click",function(fF){fF.stopPropagation();if(!fn()){fa()}fp()
});d3(fz,"click",function(fF){fF.stopPropagation();fx.remove()})};var fp=function(){var fx=eG();if(d4(fx)){var fw=fx.getElementsByClassName("roistat-online-chat-message");while(fw.length>0){fw[0].remove()}}};var fr=function(){fh=L.getElementById(eS);if(d4(fh)){d3(fh,"load",function(){eQ()})}d3(L,"click",function(fB){var fA=ck.roistat.onlineChat.customTriggerSelector;if(dR()){var fC=dV(L,fd);var fz=dV(L,ea);var fy=fn()&&fB.target!==fz&&!fz.contains(fB.target);if(fy){dK(fC,"opened",false)}}else{var fw=dV(L,fl);var fx=fn()&&fB.target!==fw&&!fw.contains(fB.target);if(fx){dK(fw,"opened",false)}}if(fn()&&(fB.target.closest(eo)===null&&fB.target.closest(eP)===null&&fB.target.closest(em)===null&&(fA?fB.target.closest(fA)===null:true))){fa()}})};var d8=function(fy){var fx=fk.getBoundingClientRect().x;var fw=fk.getBoundingClientRect().y;eC=true;ed();e0=fy.pageX-fx;if(eZ()){ec=fy.pageY+fw}else{ec=fy.pageY-fw}};var eJ=function(){eC=false;e9();ew()};var ed=function(){if(d4(ej)){ej.classList.add(eR)}};var e9=function(){if(d4(ej)){ej.classList.remove(eR)}};var e1=function(fE){if(eC&&d4(fk)){var fw=fk.getBoundingClientRect();var fD=fw.width;var fC=400;var fx=50;var fH=0;var fz=ck.innerHeight-fC;var fF=fE.pageX-e0;var fB=fx;var fy=ck.innerWidth-fx-fD;if(eZ()){fH=ck.innerHeight-(fE.pageY+fw.y)-20}else{fH=fE.pageY-ec}var fG=fq();var fA=fG==="bottomLeft"||fG==="bottomRight"?"top":"bottom";if(fF>=fB&&fF<=fy){fk.style.left=fF+"px";if(!fv()){fk.style.right="unset"}}if(fH>=50&&fH<=fz){fk.style[fA]=fH+"px"}}};var ew=function(){var fw={position:fq(),top:fk.style.top,left:fk.style.left,bottom:fk.style.bottom,right:fk.style.right};ch.setObject(e6,fw)};var fq=function(){var fw=ch.getObject(f);var fx=typeof fw.position==="string"&&fw.position!=="";return fx?fw.position:"bottomRight"};var eZ=function(){var fw=fq();return fw==="topLeft"||fw==="topRight"};var fv=function(){var fw=fq();return fw==="topLeft"||fw==="bottomLeft"};var ex=function(fx){var fw=Math.max(fx*d6(),fx)+"px";ef.style.height=fw;ef.style.marginBottom="-"+fx+"px"};var eh=function(){var fA=fq();var fC=ck.roistat.onlineChat.customPosition;var fE=fC&&fC.top!==null?fC.top:eU[fA].top;var fy=fC&&fC.right!==null?fC.right:eU[fA].right;var fw=fC&&fC.bottom!==null?fC.bottom:eU[fA].bottom;var fz=fC&&fC.left!==null?fC.left:eU[fA].left;fk=dV(ep,ff);if(d4(fk)){fk.classList.toggle(eW);fk.setAttribute("style","top: "+fE+";right:"+fy+";bottom:"+fw+";left:"+fz+";");ef=dV(ep,eV);if(d4(ef)){var fD=parseInt(fE==="unset"?fw:fE);ex(fD);ck.addEventListener("resize",function fx(){ex(fD)});if(dS){d5.addEventListener("resize",function fB(){ex(fD)})}}}};var eI=function(){if(d4(ej)){var fw=fq();ej.setAttribute("style","top: "+fm[fw].top+";bottom:"+fm[fw].bottom+";height:"+fm[fw].height+";")}};var eF=function(){if(d4(fo)){var fw=fq();fo.setAttribute("style","top: "+fs[fw].top+";right:"+fs[fw].right+";bottom:"+fs[fw].bottom+";left:"+fs[fw].left+";")}};var eN=function(){e4("iframe appending to page");var fw=cn.decode(ch.get(D));ep=L.createElement("div");ep.innerHTML=fw;L.body.appendChild(ep);ej=dV(L,ez);eh();fr()};var eO=function(){var fx=ch.getObject(f);e4("start filling pulsator");if(fx){if(d4(eY)){eY.setAttribute("style","background: "+fx.button_color+";")}if(d4(ey)){ey.setAttribute("style","fill: "+fx.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(eX)){for(var fw=0;fw<eX.length;fw++){eX[fw].setAttribute("style","fill: "+fx.button_color+";")}}}};var fe=function(){var fx=cn.decode(ch.get(br));var fz=!cL()&&ck.roistatOnlineChatOnly;var fy=(fx&&!dR()&&dN())||fz;if(fy){e4("pulsator appending to page");var fw=L.createElement("div");fw.innerHTML=fx;fo=fw.childNodes.item(0);if(!ck.roistat.multiwidget.isVisible){e4("Hide widget");fo.className=fo.className+" "+eK}eY=dV(fo,eD);ey=dV(fo,fi);ek=dV(fo,eL);eX=L.getElementsByClassName(et);L.body.appendChild(fo);eF();en();eO()}};var en=function(){if(d4(fo)){d3(fo,"click",function(){fa();eg(fo)})}};function eg(fw){if(d4(fw)){fw.classList.toggle("opened")}}var fn=function(){return d4(fk)&&!fk.classList.contains(eW)};var fa=function(){setTimeout(function(){eC=false},3000);if(d4(fk)){fk.classList.toggle(eW)}if(fn()){fp()}eq()};var e3=function(){var fw=eG();if(d4(fw)){fw.classList.toggle(eK)}};var eM=function(fw){t=fw;if(!d4(fh)){return}d7()};var eQ=function(){eA=true;ck.roistatOnlineChatShow=fa;ck.roistatMultiwidgetShow=e3;e4("chat window initialized")};function eH(fw){dF(fw);es()}function e2(){bY();eN();fc()}ck.roistat.onlineChat.localization.translateToRussian=function(){eM(bW)};ck.roistat.onlineChat.localization.translateToEnglish=function(){eM(dt)};ck.roistat.onlineChat.localization.translate=function(fw){eM(fw)};cA(e2)}};function dU(d7){A("Widgets: "+d7)}function e(d7){return d7!==d2}function dF(d9){var d8=Object.keys(d9);for(var d7=0;d7<d8.length;d7++){dY[d8[d7]]=d9[d8[d7]]}}function dR(){var ef=Number(ch.get(bI)),eb=ef&&dJ&&dE,ej=Number(ch.get(bc)),ea=dN(),eg=Number(ch.get(b2)),ec=Number(ch.get(T)),d7=Number(ch.get(cC)),d9=Number(ch.get(cN)),ei=Number(ch.get(dD)),eh=eb||ea||eg||ec||d7||d9||ei,d8=eb&&!ea&&!eg&&!ec&&!d7&&!d9&&!ei,ee=ea&&!eb&&!eg&&!ec&&!d7&&!d9&&!ei,ek=!cL()&&ck.roistatOnlineChatOnly,ed=cL()&&dr();
A("Is online chat only: "+ek);A("Is rp: "+ek);return ej&&eh&&!ee&&!d8&&!ek&&!ed}function dN(){var d7=Number(ch.get(cO));if(!d7){A("OnlineChat: Online chat is disabled");return false}var d8=ch.getObject(C);if(!d8.is_available_for_current_user_agent){A("OnlineChat: Current device group is disabled");return false}if(!d8.pages_filter.is_enabled){A("OnlineChat: Pages filter is disabled");return true}return bK(d8.pages_filter.pages.join(","))}function dO(){dU("Multiwidget disabled. Hide leadhunter pulsator from module")}function dH(d7,d9,d8){ch.set(b0,cn.encode(d7));ch.set(bv,cn.encode(d9));ch.setObject(bZ,d8)}function dM(d8,d7){ch.set(c4,cn.encode(d8));ch.setObject(f,d7)}function dL(d9,d7,d8){ch.set(br,cn.encode(d9));ch.set(D,cn.encode(d7));ch.set(cO,d8)}function dQ(d7,d9,d8){dH(d7,d9,d8);ch.set(c4,cn.encode(d2));ch.set(D,cn.encode(d2));dT=false;dZ.leadHunter()}function dG(ei,ee,ec){var d9=ei.form_template,ej=ei.pulsator_template,eb=ei.pulsator_settings;if(dr()){dQ(d9,ej,eb);return}dU("start initing widgets");var ef=ec.pulsator_template,ea=ec.iframe_template,eh=ee.pulsator_template,d7=ee.pulsator_settings,ed=Number(ch.get(bI)),d8=Number(ec.settings.is_enabled),eg=ch.getObject(s)!==null;dH(d9,ej,eb);dM(eh,d7);dL(ef,ea,d8);if(eg){ch.set(b0,cn.encode(dI()))}dT=true;if(ed&&!aK()){dU("leadhunter enabled. Start processing");dZ.leadHunter()}if(dN()){dU("online chat enabled. Start processing");dZ.onlineChat()}if(dR()){dU("multiwidget enabled. Start processing");dZ.multiwidget()}}var dI=function(){var d7=bb()+"//"+x+"/api/site/1.0/"+a6()+"/leadhunter/script/"+ch.get(aX)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+d7+'" frameborder="0"></iframe></div>'};function d1(){var d9=ch.get(b0),ek=ch.get(bv),eb=ch.getObject(bZ),ee=Number(ch.get(bI)),ef=ch.get(br),ea=ch.get(D),d8=ch.get(cO),eh=ch.get(c4),d7=ch.getObject(f);ck.roistatLeadhunterForm=dQ;ck.roistatMultiwidget=dG;if(!d9||!ek||!eb||!eh||!d7||!ef){dU("requesting data from server");if(dR()||dN()||ee){aY(bb()+"//"+x+"/api/site/"+ak+"/"+a6()+"/multiwidget?domain="+encodeURIComponent(L.domain))}}else{var ej=cn.decode(eh);var eg=cn.decode(ea);if((!e(ej)||!e(eg)||dr())&&!aK()){dU("initing LeadHunter form");ck.roistatLeadhunterForm(cn.decode(d9),cn.decode(ek),eb)}else{dU("initing multiwidget form");var ec={pulsator_template:ej,pulsator_settings:d7},ed={form_template:cn.decode(d9),pulsator_template:cn.decode(ek),pulsator_settings:eb},ei={iframe_template:eg,pulsator_template:cn.decode(ef),settings:{is_enabled:Number(d8),},};ck.roistatMultiwidget(ed,ec,ei)}}}function dP(){d1();dU("Widgets: form initialized")}function dX(){dU("activated");dP()}cA(dX);ck.setRoistatOnlineChatCustomParams=dF;ck.roistatSaveLeadHunterTemplates=dH;ck.roistatSaveMultiwidgetTemplate=dM;ck.roistatSaveOnlineChatTemplate=dL})();(function u(){var dQ=function(){return j(dw)};var dO=function(){return ch.get(bk)};var dH=function(){return ch.get(bx)};var dU=function(dW){return dW!=null&&dW!==bH&&dW!==""};var dT=function(){var dW=[];var dX=L.getElementsByClassName(at);if(dX&&dX.length){dW=dX}return dW};var dF=function(){var dW=[];var dX=L.getElementsByClassName(J);if(dX&&dX.length){dW=dX}return dW};var dE=function(){var dW=[];var dX=L.getElementsByClassName(am);if(dX&&dX.length){dW=dX}return dW};var dJ=function(){var dW=[];var dX=L.getElementsByClassName(N);if(dX&&dX.length){dW=dX}return dW};var dM=function(){var dW=[];var dX=L.getElementsByClassName(dm);if(dX&&dX.length){dW=dX}return dW};var e=function(d9,dX){A("CallTracking: RenderPhone phone = "+d9);var d2=function(eb){return eb.split(/[^0-9]/).join("")};var d3=function(ee,eg){var ej=null;if(!ee){return ej}var eb=eg.split(",");if(eb.length<2){ej=eg}else{var ec=ee.getAttribute("data-prefix");if(ec){for(var ef=0;ef<eb.length;ef++){var eh=eb[ef];var ei=d2(eh);if(ei.indexOf("8")===0){ei="7"+ei.substring(1)}var ed=ei.split(ec)[0]==="";if(ed){ej=eh;break}}}if(ej===null){ej=eb[0]}A("CallTracking._getPhoneForElement: Prepared phone = "+ej+" for data-prefix = "+ec)}return ej};var d0=function(ef,ed){var eb=d3(ef,ed);if(!eb||!ef){return}if(ef.tagName.toLowerCase()!=="a"){return}var ee=ef.getAttribute("href");if(c7(ee,"tel:")){var ec=d2(eb);if(ec.indexOf("8")===0){ec="7"+ec.substring(1)}ef.setAttribute("href","tel:+"+ec);d1(ef,eb)}};var d1=function(ec,eb){if(!ec.hasAttribute("title")){return}ec.setAttribute("title",eb)};var d5=function(ed,ec){var eb=d3(ed,ec);if(!eb||!ed){return}ed.innerHTML=eb};var ea=function(eb){var ec=dT();A("CallTracking: render phone default classes for "+ec.length+" elements");r(ec,function(ed){d5(ed,eb);d0(ed,eb)});r(dF(),function(ee){var ed=d2(d3(ee,eb)).slice(0,1);d5(ee,ed)});r(dE(),function(ee){var ef=d3(ee,eb).match(/\((.*)\)/);if(ef!==null){var ed=ef[1];d5(ee,ed)}});r(dJ(),function(ef){var ed=d3(ef,eb).match(/\)(.*)/);if(ed!==null){var eg=d2(ed[1]);var ee=eg.slice(-1*eg.length,-4)+"-"+eg.slice(-4,-2)+"-"+eg.slice(-2);d5(ef,ee)}});r(dM(),function(ed){d0(ed,eb)
})};var d8=function(eb,eg){if(!eg){return}A("CallTracking: render phone user replacement for "+eg.length+" replacements");for(var ef=0;ef<eg.length;ef++){var ei=eg[ef];if(!ei){continue}var ed=ei[0];ei=ei.substr(1);var eh=[];if(ed==="#"){var ee=L.getElementById(ei);if(ee!==null){eh.push(ee)}}else{eh=L.getElementsByClassName(ei);dZ(ei,eb)}if(!eh||eh.length<1){continue}A("CallTracking: render phone for "+ei+", "+eh.length+" elements");for(var ec=0;ec<eh.length;ec++){d5(eh[ec],eb);d0(eh[ec],eb)}}};var d4=function(eb){for(var ec=0;ec<eb.length;ec++){d8(eb[ec].phone,eb[ec].css_selectors);d7(eb[ec].phone,eb[ec].replaceable_numbers)}};var d7=function(ed,ec){if(!ec||ec.length===0){return}var eb=function(){var eo=eh();var en=L.getElementsByTagName("*");var ei=en.length;for(var em=0;em<ei;em++){var ep=en[em];ee(ep,eo,d3(ep,ed));var el=ep.childNodes.length;for(var ej=0;ej<el;ej++){var ek=ep.childNodes[ej];eg(ek,eo,d3(ek,ed))}}};var ee=function(em,el,ei){if(!ef(em)){return}var en=em.getAttribute("href").replace("tel:","");var ek=el.length;for(var ej=0;ej<ek;ej++){if(el[ej].test(en)){d0(em,d3(em,ei))}}};var ef=function(ej){if(ej.tagName.toLowerCase()!=="a"){return false}var ei=ej.getAttribute("href");return a2(ei)&&ei.indexOf("tel:")===0};var eh=function(){var ek=[];for(var ei=0;ei<ec.length;ei++){var ej="[\\s()[\\]{}\\-+.]*";var el=ec[ei].split("").join(ej);ek.push(new RegExp("[+(]?"+el,"g"))}return ek};var eg=function(el,ek,ei){if(el.nodeType!==Node.TEXT_NODE){return}for(var ej=0;ej<ek.length;ej++){if(el.textContent&&ek[ej].test(el.textContent)){el.textContent=el.textContent.replace(ek[ej],ei)}else{if(el.innerText&&ek[ej].test(el.innerText)){el.innerText=el.innerText.replace(ek[ej],ei)}}}};eb()};var dZ=function(ec,eb){r(dY(ec+"-"+bO),function(ee){var ed=d2(d3(ee,eb)).slice(0,1);d5(ee,ed)});r(dY(ec+"-"+aQ),function(ee){var ef=d3(ee,eb).match(/\((.*)\)/);if(ef!==null){var ed=ef[1];d5(ee,ed)}});r(dY(ec+"-"+bj),function(ef){var ed=d3(ef,eb).match(/\)(.*)/);if(ed!==null){var eg=d2(ed[1]);var ee=eg.slice(-1*eg.length,-4)+"-"+eg.slice(-4,-2)+"-"+eg.slice(-2);d5(ef,ee)}});r(dY(ec+"-"+b6),function(ed){d0(ed,eb)})};var dY=function(ec){var eb=[];var ed=L.getElementsByClassName(ec);if(ed&&ed.length){eb=ed}return eb};var d6=function d6(){var ec=dH();if(ec){ec=ec.split("\n");for(var eb=0;eb<ec.length;eb++){ec[eb]="."+ec[eb]}}if(dX instanceof Array){d4(dX)}else{ea(d9);d8(d9,ec)}};(function dW(){d6();var eb=[300,5000,15000];eb.forEach(function(ec){setTimeout(d6,ec)})})()};var dG=function(dW){ch.save(o,dW,cV)};var dP=function(){if(ck.roistat.callTracking.phone){var dW={expires:parseInt(ck.roistat.callTracking.sessionTime),path:"/"};if(cV.domain){dW.domain=cV.domain}dn(dw,ck.roistat.callTracking.phone,dW);dG(1);ch.save(bx,ck.roistat.callTracking.replacementClasses,cV);ch.save(bk,ck.roistat.callTracking.phoneScriptsJson,cV)}};var dN=function(dW,d0,dY,dX){A("CallTracking: reuse phone "+dW+" for time "+d0+" and replacements "+dY);if(!dU(dW)){A("CallTracking: new phone is invalid");roistat.callTracking.phone=null;da();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=dW;roistat.callTracking.sessionTime=d0;roistat.callTracking.replacementClasses=dY;roistat.callTracking.phoneScriptsJson=dX;da();dP();var d1={expires:parseInt(d0),path:"/"};if(cV.domain){d1.domain=cV.domain}dn(dw,dW,d1);ch.save(bk,dX,cV);ch.save(bx,dY,cV);var dZ=df(dX);if(dZ==null){e(dW)}else{e(dW,dZ)}};var dI=function(){A("CallTracking: request new phone");var dW=j(cb);var d0=ao();var dZ=d0?d0:by;var dY=encodeURIComponent(cy);var dX=R()+"/get-phone?visit="+dW+"&marker="+(dZ?dZ:"")+"&prefix="+cI+"&prefix_bind="+dx+"&phone_scripts_bind="+U+"&page="+dY;aY(dX)};var dK=function(){cI=ck.roistatPhonePrefix?ck.roistatPhonePrefix:"";dx=ck.roistatPhonePrefixBind?ck.roistatPhonePrefixBind:"";U=ck.roistatCalltrackingScripts&&ck.roistatCalltrackingScripts.join?ck.roistatCalltrackingScripts.join(","):"";A("CallTracking: refresh phone with prefix: "+cI+", binding: "+dx+", scripts: "+U);dI()};var dV=function(){var dW=ch.get(o)>0;var dX=b1.callTrackingEnabled;return dW&&dX};var dL=function(dW){dG(dW.is_enabled)};var dS=function dS(){var dW=dQ();if(!dU(dW)){A("CallTracking: invalid phone "+dW+", requesting a new one");dI()}else{A("CallTracking: render phone "+dW);var dX=df(dO());if(dX==null){e(dW)}else{e(dW,dX)}}};var dR=function(){A("CallTracking: init");if(aK()){A("CallTracking: Shut down because only online chat need to be inited");return}dP();if(!dV()){A("CallTracking: disabled, skip");return}if(b1.callTrackingManual){A("CallTracking: init finish because off manual");return}dS();ay(dS)};ck.roistatCallTrackingRefresh=dK;ck.roistatRequestNewPhone=dI;ck.roistatReusePhone=dN;ck.roistatCalltrackingUpdateSettings=dL;cA(dR)})();(function F(){var dF=function(dL){A("Emailtracking: "+dL)};var dJ=function(dL,dN,dM){ch.save(bw,dL,cV);ch.save(b,dN,cV);ch.save(bL,JSON.stringify(dM),cV)};var dE=function(){var dL=(ck.roistat.emailtracking.email&&ck.roistat.emailtracking.trackingEmail)||aR(ck.roistat.emailtracking.emails);
if(ck.roistat.emailtracking.loaded&&dL){dF("save loaded email: "+ck.roistat.emailtracking.email);dJ(ck.roistat.emailtracking.email,ck.roistat.emailtracking.trackingEmail,ck.roistat.emailtracking.emails)}else{dF("settings save skip, because not loaded");ck.roistat.emailtracking.email=ch.get(bw);ck.roistat.emailtracking.email=ck.roistat.emailtracking.email?ck.roistat.emailtracking.email:null;ck.roistat.emailtracking.email=ck.roistat.emailtracking.email==="null"?null:ck.roistat.emailtracking.email;dF("email loaded from storage: "+ck.roistat.emailtracking.email);ck.roistat.emailtracking.trackingEmail=ch.get(b);ck.roistat.emailtracking.trackingEmail=ck.roistat.emailtracking.trackingEmail?ck.roistat.emailtracking.trackingEmail:null;ck.roistat.emailtracking.trackingEmail=ck.roistat.emailtracking.trackingEmail==="null"?null:ck.roistat.emailtracking.trackingEmail;dF("tracking email loaded from storage: "+ck.roistat.emailtracking.trackingEmail);ck.roistat.emailtracking.emails=df(ch.get(bL));ck.roistat.emailtracking.emails=ck.roistat.emailtracking.emails?ck.roistat.emailtracking.emails:null;dF("emails loaded from storage: "+JSON.stringify(ck.roistat.emailtracking.emails))}};var dH=function(dL){dJ(dL.email,dL.trackingEmail,dL.emails)};var dG=function(){var dL=(!!ck.roistat.emailtracking.email&&!!ck.roistat.emailtracking.trackingEmail)||aR(ck.roistat.emailtracking.emails);return ck.roistat.emailtracking.enabled&&dL};var e=function(){if(!dG()){dF("emailtracking disabled, skip swapping");return}var dM=function(dR,dS,dQ){if(dR.href){var dP=aE(dR.href);if(dS.test(dP)){dR.href=dP.replace(dS,dQ);return true}}if(dR.nodeType!==3){return false}if(dR.textContent&&dS.test(dR.textContent)){dR.textContent=dR.textContent.replace(dS,dQ);return true}else{if(dR.innerText&&dS.test(dR.innerText)){dR.innerText=dR.innerText.replace(dS,dQ);return true}}return false};var dL=function(dP){return dP.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var dN=function(dR,dQ){var dP=!dQ.match(/[a-z]/);return dP?dR.toUpperCase():dR};var dO=function(dX,dZ){var d0=dL(dX);var dR=new RegExp("(^|\\s)(mailto:)?("+d0+")($|\\s|\\?)","gi");var d1=function(d6,d4,d2,d3,d5){d2=d2||"";return d4+d2+dN(dZ,d3)+d5};dF("starting to replace email "+dX+" to "+dZ+" with regexp "+dR);var dQ=L.getElementsByTagName("*");var dT=dQ.length;dF("found "+dT+" nodes on page");var dW=0;for(var dV=0;dV<dT;dV++){var dS=dQ[dV];var dY=dS.childNodes.length;if(dY>0){for(var dU=0;dU<dY;dU++){var dP=dS.childNodes[dU];if(dM(dP,dR,d1)){dW++}}}if(dM(dS,dR,d1)){dW++}}dF("successfully replaced "+dW+" nodes")};if(ck.roistat.emailtracking.emails){bn(ck.roistat.emailtracking.emails,dO)}else{dO(ck.roistat.emailtracking.email,ck.roistat.emailtracking.trackingEmail)}};var dI=function(){dF("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var dK=function(){dF("init");if(aK()){dF("Shut down because only online chat need to be inited");return}ay(dI);dE();dI()};ck.roistatEmailtrackingUpdateSettings=dH;ck.roistat.emailtracking.refresh=e;cA(dK)})();(function bp(){var dG=function(dI){A("MultiDomain: "+dI)};var dF=function(){return ch.get(cX)>0};var dE=function(dM){var dN=function(dP){if(!dP){return false}if(c7(dP,"roistat_visit")){return false}var dO=ba(dP);var dR=ba(L.domain);var dQ=new RegExp(/^((https?:)?\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return dO!==dR&&dQ.test(dP)};var dL=function(dR){var dS=dR.split("#");var dQ=dS[0].split("?");var dO="";var dP="";if(dQ.length===2){dO=dQ[1]}if(dO){dP="&"}dO=dO+dP+"roistat_visit="+roistat.getVisit();dQ[1]=dO;dS[0]=dQ.join("?");return dS.join("#")};if(dM.tagName.toLowerCase()!=="a"){return}var dK=dM.getAttribute("href");var dJ=false;if(dN(dK)){var dI=dL(dK);dG("update url "+dK+" > "+dI);dM.setAttribute("href",dI);dJ=true}return dJ};var e=function(){if(!dF()){dG("disabled, skip");return}var dI=L.getElementsByTagName("a");var dJ=dI.length;dG("found "+dJ+" <a> nodes on page");var dM=0;for(var dK=0;dK<dJ;dK++){var dL=dI[dK];if(dE(dL)){dM++}}dG("replaced "+dM+" nodes")};var dH=function(){dG("init");if(aK()){dG("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cA(dH)})();(function c6(){var e=60*1000;var dK=2*60*1000;var dE=function(dM){A("SettingsUpdater: "+dM)};var dI=function(){ch.set(ac,co())};var dJ=function(){var dN=dc();var dM=!(dN>0);dE("is first update check: lastUpdateTime="+dN+", result="+(dM?1:0));return dM};var dL=function(){var dO=co()-dK;var dN=dc();var dM=dN<=dO;dE("expiration check: _minTime="+dO+", lastUpdateTime="+dN+", result="+(dM?1:0));return dM};var dF=function(dN){var dM=j(cb);a(dM,dN)};var dG=function(dN){dE("update settings and save last update time");var dM=ch.getObject(s)!==null;if(dM){ch.set(s,dN.js_settings.leadHunterTargetPagesMap)}ck.roistatCalltrackingUpdateSettings(dN.calltracking);ck.roistatEmailtrackingUpdateSettings(dN.emailtracking);
ck.roistatSaveLeadHunterTemplates(dN.leadhunter_templates.form_template,dN.leadhunter_templates.pulsator_template,dN.leadhunter_templates.pulsator_settings);ck.roistatSaveMultiwidgetTemplate(dN.multiwidget_templates.pulsator_template,dN.multiwidget.pulsator_settings);ck.roistatSaveOnlineChatTemplate(dN.online_chat_templates.pulsator_template,dN.online_chat_templates.iframe_template);ck.roistatSaveProxyFormSettings(dN.proxy_forms);bd(dN.js_settings);cW(dN.multiwidget.multiwidget_settings);cl(dN.online_chat);w(dN.geo);cw(dN.promo_code);cd.isSettingsUpdating=false;dI()};var dH=function(){dE("init");if(dJ()){dE("in first update we just start first timer and skip");dI();return}if(!dL()){dE("update is not not expired, skip");return}dE("start to update settings");dF()};cA(function(){ck.roistatUpdateSettings=dG;setTimeout(function(){dH()},3000);dE("set interval to update settings");setInterval(function(){dH()},e)})})();(function bT(dH,e,dJ){var dG={};var dE=function(dL){var dK=encodeURIComponent?encodeURIComponent:encodeURI;return dK(dL)};var dF=function(dR,dL){A("Reach goal start");if(!dR){dR={}}var dO={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cB(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var dN in dO){if(!Object.prototype.hasOwnProperty.call(dO,dN)){continue}if(!Object.prototype.hasOwnProperty.call(dR,dN)){continue}if(!dR[dN]){continue}if(dN==="fields"||dN==="client_fields"||dN==="items"||dN==="placeholders_data"){dR[dN]=JSON.stringify(dR[dN])}dO[dN]=dE(dR[dN])}var dQ=a6();var dP=bb()+"//"+x+"/api/site/"+ak+"/"+dQ+"/reach-goal?v=2";for(var dM in dO){if(!Object.prototype.hasOwnProperty.call(dO,dM)){continue}dP=dP+"&"+dM+"="+dO[dM]}if(dL!==dJ){var dK=Math.random().toString();dG[dK]=dL;dP+="&callback_key="+dK}aY(dP);A("Reach goal completed")};var dI=dH.roistatGoal={reach:function(dL,dK){dF(dL,dK)},callAfterReachCallback:function(dK){if(Object.prototype.hasOwnProperty.call(dG,dK)){dG[dK]();delete dG[dK]}}}})(ck,L,bH);(function dq(dF,e,dG){var dE=function(dL){if(dL instanceof Array||dL===null||typeof dL!=="object"){A("Invalid event data");return""}var dI=[];for(var dK in dL){if(Object.prototype.hasOwnProperty.call(dL,dK)){var dJ=dL[dK];if(typeof dJ==="string"||typeof dJ==="number"){dI.push("data["+encodeURIComponent(dK)+"]="+encodeURIComponent(dJ))}else{A("Event data property ignored: "+dK)}}}return dI.length>0?"&"+dI.join("&"):""};var dH=function(dK,dL){A("Send event start");var dI=p();var dJ=R()+"/event/register?visit="+dI+"&event="+dK+dE(dL);aY(dJ);A("Send event completed")};dF.roistat.event={send:function(dI,dJ){dH(dI,dJ)}}})(ck,L,bH);(function ci(dN,dP,dG){if(aK()){A("VisitApprove: Shut down because only online chat need to be inited");return}var dQ=dN.roistatIsInitVisit===true?20000:10000;var dF=(new Date()).getTime();var dE=function(dU){return"approve_visit_"+dU};var dM=function(dU){b8.set(dE(dU),1)};var dR=function(dU){return b8.get(dE(dU))>0};var e,dI,dT=[];if(dP.addEventListener){e=function(dV,dU,dW){return dV.addEventListener(dU,dW,false)};dI=function(dV,dU,dW){return dV.removeEventListener(dU,dW,false)}}else{e=function(dV,dU,dW){return dV.attachEvent("on"+dU,dW)};dI=function(dV,dU,dW){return dV.detachEvent("on"+dU,dW)}}var dL=function(dX){if(dT.length>30){return}dX=dX||dN.event;if(!dX||!dX.screenX){return}var dW=(new Date()).getTime();var dZ,dY=null;if(dT.length>0){dY=dT[dT.length-1]}if(dY){dZ=dW-dY.time}else{dZ=dW-dF}if(dZ<300){return}dZ=dZ-300;var d1=0;var dU=dX.screenX;var d0=dX.screenY;if(dY){d1=parseInt(Math.sqrt(Math.pow(dY.y-d0,2)+Math.pow(dY.x-dU,2)))}var dV={time:dW,pauseBeforeMove:dZ,x:dU,y:d0,distance:d1};dT.push(dV)};var dK=function(){var dU=[];r(dT,function(dV){var dW=[dV.pauseBeforeMove,dV.distance];dU.push(dW.join(":"))});if(dU.length===0){dU.push("0:0")}return dU.join("|")};var dH=function(){for(var dU in dN){if(c7(dU,"yaCounter")){return true}}return false};var dO=function(){dI(dP,"mousemove",dL);var dU=p();A("VisitApprove: start for visit "+dU);if(dR(dU)){A("VisitApprove: visit already approved, skip");return}dM(dU);aB();var dV=R()+"/approve?v="+Y+"&visit="+dU;if(dS()){dV+="&hash="+au()}if(dJ()){dV+="&page_params="+encodeURIComponent(JSON.stringify(dN.roistat.page.params));g()}dV+="&mv="+dK();dV+="&pl="+(dN.navigator?dN.navigator.platform:"");dV+="&ym="+(dH()?"1":"0");aY(dV)};var dS=function(){var dY=cd.cookies,dX=n();var d0=bg();for(var dV=0;dV<d0.length;dV++){var dZ=d0[dV];var d1=Object.prototype.hasOwnProperty.call(dY,dZ)?dY[dZ]:dG;var dU=Object.prototype.hasOwnProperty.call(dX,dZ)?dX[dZ]:dG;var dW=typeof dU==="string"&&dU.length>0;if(dW&&d1!==dU){return true}}return false};var dJ=function(){var dZ=cd.pageParams,dW=dN.roistat.page.params;for(var dV=0;dV<cJ.length;dV++){var dU=cJ[dV];var dX=Object.prototype.hasOwnProperty.call(dZ,dU)?dZ[dU]:null;var dY=Object.prototype.hasOwnProperty.call(dW,dU)?dW[dU]:null;if(dY!==dX){return true}}return false};setTimeout(function(){dO()
},dQ);e(dP,"mousemove",dL)})(ck,L,bH);(function az(dI,dJ,dE){var dG=function(){return ab("roistat_ab_demo")==="1"};var dK=function(dN){return new RegExp(dN.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var dH=function(dS){var dN=dI.location.href,dQ=dS.filter,dW=dS.filterValue;var dT;switch(dQ){case"except":case"pages":var dO,dV,dU=false;dV=dN?aM(dN):"";dT=dW?dW.split("\n"):[];if(dV&&dT.length!==0){for(var dP=0;dP<dT.length;dP++){var dR=dT[dP].trim();if(dR.length===0){continue}dO=dK(dR);if(dO.test(dV)){dU=true;break}}}return(dQ==="pages")?dU:!dU;break;case"all":default:return true}};var e=function(dP){var dN=dJ.getElementsByTagName("head")[0],dO;dO=dJ.createElement("style");dO.setAttribute("type","text/css");if(dO.styleSheet){dO.styleSheet.cssText=dP.value}else{dO.innerText=dP.value}dN.appendChild(dO)};var dF=function(dN){if(dH(dN)){switch(dN.type){case"css":e(dN);break}}};dI.applyTests=function(){var dN=ch.getObject("abTesting");var dP,dO;for(dP in dN){if(!Object.prototype.hasOwnProperty.call(dN,dP)){continue}dO=dN[dP];dF(dO)}};var dL=function(){A("Call: apply demo AB test");var dN=ab("roistat_ab_data");var dO;if(dN===null){return}else{dO=JSON.parse(cn.decode(dN))}if(typeof dO!=="object"){A("Error: testValue is not an object.");return}dF(dO)};function dM(){if(aK()){A("ABTest: Shut down because only online chat need to be inited");return}var dN=dG();if(!c2&&!dN){applyTests()}if(dN){dL()}}dM()})(ck,L,bH);(function cG(dE,e,dF){if(aK()){A("visitStream: Shut down because only online chat need to be inited");return}if(!c5){return}setTimeout(function(){(function(dM,dL,dP,dO,dJ,dH,dK){dM[dJ]={COUNTER_ID:dH,HOST:dK};var dI=dL.location.protocol=="https:"?"https://":"http://";var dG=dL.createElement(dP);dG.async=1;dG.src=dI+dK+dO;var dN=dL.getElementsByTagName(dP)[0];dN.parentNode.insertBefore(dG,dN)})(dE,e,"script","/counter.js","datamap",a6(),c5)},1000)})(ck,L,bH);(function cf(dF,e,dG){var dH=function(){var dI=dF.roistatMetrikaCounterId;if(dI){ch.set(a0,dI)}};var dE=function(dN){var dI="yaCounter"+dN;var dM=100,dK=0,dL=60000;var dJ=function(){dK+=dM;A("YandexMetrika: trying to access counter "+dN);if(dF[dI]===dG){if(dK<dL){setTimeout(dJ,dM);dM*=2}return}var dO={};dO[cS]=p();dF[dI].params(dO);A("YandexMetrika: visit id "+dO[cS]+" sent to counter "+dN)};setTimeout(dJ,dM)};cA(function(){dH();var dK=ch.get(a0);if(!dK){A("YandexMetrika: counter id not found");return}var dJ=String(dK).split(",");A("YandexMetrika: counters: "+dJ);for(var dI=0;dI<dJ.length;dI++){if(dJ[dI].trim()===""){continue}dE(dJ[dI])}})})(ck,L,bH);(function av(dN,dR){var dV=function(dY){A("Proxy Forms: "+dY)};var dK=function(){if(dN.roistat.proxyForms.loaded&&dN.roistat.proxyForms.settings.length>0){dV("save loaded settings");dS(dN.roistat.proxyForms.settings)}else{dV("settings not loaded, getting from storage");dN.roistat.proxyForms.settings=ch.getObject(dp)||[]}};var dS=function(dY){ch.setObject(dp,dY)};var dO=function(){dV("init form listener");dG(dN.roistat.proxyForms.settings);e(dN.roistat.proxyForms.settings)};var dX=function(dY){return dY.hasOwnProperty("hosts")&&dY.hasOwnProperty("is_excluding_hosts")&&bu(dY.hosts)&&dY.hosts.length>0};var dI=function(dZ){if(!dX(dZ)){return true}var d0=dd(dZ.hosts,ba(dN.location.host));var dY=Boolean(dZ.is_excluding_hosts);return dY?!d0:d0};var dF=function(dZ){var dY=[];r(dZ,function(d0){if(dI(d0)){dY.push(d0)}});return dY};var e=function(dY){var d0=[];r(dY,function(d1){if(d1.type==="js-button"){d0.push(d1)}});if(d0.length<1){dV("no button settings");return}var dZ;if(dR.addEventListener){dZ=function(d1){dJ(d0,d1,d1.target,dH)};dR.addEventListener("click",dZ,true)}else{if(dR.attachEvent){dZ=function(){var d1=dN.event;dJ(d0,d1,d1.srcElement,dH,true)};dR.attachEvent("onclick",dZ)}else{dV("Listener could not be attached")}}};var dG=function(dZ){H("Proxy form debug: start");var dY=[];r(dZ,function(d1){if(d1.type==="form"){dY.push(d1)}});if(dY.length<1){dV("no form settings");return}if(dR.addEventListener){var d0=function(d1){dJ(dY,d1,d1.target,dW)};dR.addEventListener("submit",d0,true)}else{if(dR.attachEvent){setInterval(function(){dY=dF(dY);var d1=dR.getElementsByTagName("form");r(d1,function(d2){if(d2.getAttribute("data-roistat-proxy-form-checked")==="true"){return}d2.setAttribute("data-roistat-proxy-form-checked","true");r(dY,function(d3){if(dE(d2,d3.selector)){d2.attachEvent("onsubmit",function(){dN.event.returnValue=false;H("Proxy form debug: start sending form lead");dW(d3,dN.event.srcElement)})}})})},2000)}else{dV("Listener could not be attached")}}};var dJ=function(d1,d2,d3,d0,dY){var d4=dF(d1);var dZ=null;r(d4,function(d5){if(dE(d3,d5.selector)){dZ=d5}});if(dZ===null){dV("No matched settings found for listener");return}d0(d2,dZ,d3,dY)};var dW=function(d2,d0,d1,dZ){var dY=dQ(d1,d0);if(!dT(dY,d0)){H("Proxy form debug: lead fields is not valid");return}dZ?d2.returnValue=false:d2.preventDefault();H("Proxy form debug: sending lead");dL(dY,d0,function(){HTMLFormElement.prototype.submit.call(d1)
})};var dH=function(d0,dZ){var dY=dQ(null,dZ);if(!dT(dY,dZ)){return}dL(dY,dZ)};var dL=function(dY,d1,d3){var d2={};var d0=dM(d1.crm)&&d1.crm.hasOwnProperty("is_enabled");var dZ=d0?d1.crm.is_enabled:true;d2.leadName=d1.hasOwnProperty("lead_name")?d1.lead_name:"    "+d1.title;d2.formTitle=d1.title;d2.name=dY.name;d2.phone=dY.phone;d2.email=dY.email;d2.text=dY.comment;d2.fields=dY.fields;d2.placeholders_data=dY.placeholdersData;d2.is_need_callback=d1.is_need_callback>0?1:0;d2.is_skip_sending=!dZ;dN.roistatGoal.reach(d2,d3)};var dM=function(dY){return(typeof dY==="number"&&!isNaN(dY))||(typeof dY==="string"&&dY!=="")||(typeof dY==="object"&&dY!==null)||(typeof dY==="boolean"&&dY)||bu(dY)};var dT=function(dY,d0){var dZ=[],d2=["name","email","phone","comment"];r(d2,function(d3){if(d0.hasOwnProperty(d3)&&d0[d3].required>0){dZ.push(d3)}});if(bu(d0.fields)){r(d0.fields,function(d3){if(d3.required>0){dZ.push(d3)}})}var d1=true;r(dZ,function(d3){if(!dY.hasOwnProperty(d3)||!dM(dY[d3])){d1=false}});return d1};var dQ=function(d0,dZ){var dY={};dY.name=dZ.name?dP(d0,dZ.name.value,dZ.name.type):"";dY.phone=dZ.phone?dP(d0,dZ.phone.value,dZ.phone.type):"";dY.email=dZ.email?dP(d0,dZ.email.value,dZ.email.type):"";dY.comment=dZ.comment?dP(d0,dZ.comment.value,dZ.comment.type):"";dY.fields={};dY.placeholdersData={orderPage:cy};if(bu(dZ.fields)){r(dZ.fields,function(d1){dY.fields[d1.name]=dP(d0,d1.value,d1.type)})}return dY};var dP=function(dZ,d2,dY){switch(dY){case"plain":return d2||"";case"input":var d1=dZ.querySelector('input[name="'+d2+'"]');return d1?d1.value:"";case"js":try{return(new Function(d2))()}catch(d0){return""}}};var dU=function(){dV("init");if(aK()){dV("Shut down because only online chat need to be inited");return}if(!dN.roistat.proxyForms.enabled){dV("disabled");return}dK();dO()};var dE=function(d1,dZ){if(typeof Element!=="undefined"&&Element.prototype.matches){var dY=d1.matches(dZ);if(!dY){return d1.closest(dZ)?d1.closest(dZ).matches(dZ):false}return dY}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var d2=d1.matchesSelector(dZ);if(!d2){return d1.closest(dZ)?d1.closest(dZ).matches(dZ):false}return d2}else{if(dR.querySelectorAll){var d3=dR.querySelectorAll(dZ);for(var d0=0;d0<d3.length;d0++){if(d3[d0]===d1){return true}}return false}}}return false};cA(dU);dN.roistatSaveProxyFormSettings=dS})(ck,L);(function Q(){if(ck.onRoistatAllModulesLoaded!==bH&&typeof ck.onRoistatAllModulesLoaded==="function"){A("onRoistatAllModulesLoaded: call");ck.onRoistatAllModulesLoaded()}})();(function a7(dK,dN,dH){var e=function(){return ch.get(ap)*1>0};var dM=function(dT){A("Request listener: "+dT)};var dS=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var dL=/^[^\s]+[@][^\s]+$/g;var dG=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dF=function dF(){dM("listen");if(dK.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function dV(dY){var dX=this;dO(dX.responseURL,dY,function(){dX.oldSend(dY)})}XMLHttpRequest.prototype.send=dV}if(dK.ActiveXObject){var dU=dW;function dW(dZ){var dX=new dU(dZ);var d0={};if(dZ.toLowerCase()==="msxml2.xmlhttp"){d0={_ax:dX,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var dY="";d0._onReadyStateChange=function(){var d1=d0;return function(){d1.readyState=d1._ax.readyState;if(d1.readyState===4){d1.responseText=d1._ax.responseText;d1.responseXml=d1._ax.responseXml;d1.status=d1._ax.status;d1.statusText=d1._ax.statusText}if(d1.onReadyStateChange){d1.onReadyStateChange()}}}();d0.open=function(d5,d3,d4,d1,d2){dY=d3;d4=(d4!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(d5,d3,d4,d1,d2)};d0.send=function(d1){var d2=this;dO(dY,d1,function(){this._ax.send(d1)})}}else{d0=dX}return d0}dK.ActiveXObject=dW}if(dK.fetch){var dT=fetch;fetch=function(dX,dY){dO(dX.url,dY||{});return dT(dX,dY||{})}}dK.addEventListener("submit",function(d0){var d2=d0.target.elements;var d1={};for(var dZ=0;dZ<d2.length;dZ++){var dY=d2[dZ];var dX=dY.getAttribute("name");d1[dX]=dY.value}dO("",d1)})};function dI(dT){var dW={};if(dT.length===0){return dW}var dV=dT.split("?");if(dV.length<2){return dW}var dU=dV[1];dW=dE(dU);return dW}function dE(dU){var dV=dU.split("&"),dX={};for(var dT=0;dT<dV.length;dT++){var dW=dV[dT].split("=");if(dW.length<2){continue}dX[dW[0]]=dW[1]}return dX}function dQ(ea){dM("data: "+JSON.stringify(ea));var d3={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var d0={email:"",phone:"",name:""};for(var dT in d3){var d6=d3[dT];for(var d5 in d6){if(d6.hasOwnProperty(d5)){if(ea.hasOwnProperty(d6[d5])){d0[dT]=ea[d6[d5]];break}}}}dM("new data: "+JSON.stringify(d0));var dV=d0.phone.length===0;var dZ=d0.email.length===0;if(!dV&&!dZ){return d0}var dU=new RegExp(dL);
var dY=new RegExp(dS);var d1=Object.keys(ea);for(var d7=0;d7<d1.length;d7++){var d4=decodeURIComponent(String(ea[d1[d7]]));if(dZ){var dW=d4.match(dU);if(dW&&dW.length>0){var d2=d0.email;d0.email=dW[0];dM("parsing email, before: "+d2+", after: "+d0.email)}}if(dV){var d9=d4.replace(/[\s-.()+*_:;'"`]/g,"");var d8=d9.match(dY);if(d8&&d8.length>0){var dX=d0.phone;d0.phone=d4;dM("parsing phone, before: "+dX+", after: "+d0.phone)}}}return d0}var dJ=function(dT){var dU=ba(dT);return !aw(dG,dU)};function dO(dV,dU,dT){if(dV.length>0&&!dJ(dV)){return}var dX=dI(dV);var dZ=dU;if(typeof dZ==="string"){dZ=dE(dZ)}dM("data before parsing "+JSON.stringify({get:dX,post:dZ}));var dY=dQ(dX);var dW=dQ(dZ);dM("data after parsing "+JSON.stringify({get:dY,post:dW}));dP(dY,dW,dT)}function dP(dT,dV,dZ){var dY=dT.email.length>0?dT.email:dV.email;var dU=dT.phone.length>0?dT.phone:dV.phone;var dX=dT.name.length>0?dT.name:dV.name;if(dY.length==0&&dU.length==0){dZ();return}setTimeout(function(){dZ()},100);var dW={leadName:"   ",name:dX,phone:dU,email:dY,is_skip_sending:1};dM("phone or email is not empty, reaching goal "+JSON.stringify(dW));roistatGoal.reach(dW)}(function dR(){if(!e()){dM("disabled, skip");return}dF()})()})(ck,L,bH)})(window,document,undefined);